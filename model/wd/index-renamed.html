<!DOCTYPE html>
<html>
  <head>
    <title>Web Annotation Data Model</title>
    <meta charset='utf-8'></meta>
    <style>

.model {
 empty-cells: show;
 border-collapse: collapse; 
 margin-bottom: .5ex;
 border: 1px solid black;
}

.model th {
 padding: 3px;
 border: 1px solid #404040;
 text-align: center;
 font-weight: bold;
 font-family: sans-serif;
}

.model td {
 padding: 5px;
 border: 1px solid #404040;
 text-align: left;
 font-family: sans-serif;
}

.nanotabs > ul li { float:left; list-style:none; }
.nanotabs > ul li a { display:block; padding:4px 6px; margin-right: 3px; border-left: 1px solid #b9ab2d; border-right: 1px solid #b9ab2d; border-top: 1px solid #b9ab2d; border-collapse: collapse; background:#fcfaee; color:#b9ab2d; font-family: sans-serif;
 text-decoration:none; }
.nanotabs > ul li a:hover { background:#FFFCE5; color:#550; }
.nanotabs > ul li a.selected { background:#555; color:#FFF; }

      </style>
      <script src="nanotabs.js" type="text/javascript"></script>
      <script src='respec-w3c-common.js' async='true' class='remove'></script>
      <!-- <script src='http://www.w3.org/Tools/respec/respec-w3c-common' async='true' class='remove'></script> -->
      <script class='remove'>
      var respecConfig = {
          specStatus: "FPWD", 
          shortName:  "annotation-model",
          editors: [
                {   name:       "Robert Sanderson",
                    url:        "http://www.stanford.edu/~azaroth/",
                    company:    "Stanford University",
                    companyURL: "http://www.stanford.edu/",
                    mailto:     "azaroth@stanford.edu"  },
                {   name:       "Paolo Ciccarese",
                    url:        "http://www.paolociccarese.info",
                    company:    "Massachusetts General Hospital",
                    companyUrl: "",
                    mailto:     "paolo.ciccarese@gmail.com " 
                }
          ],
          previousMaturity:     "",
          previousPublishDate:  "",
          previousURI:          "",
          publishDate:          "2014-12-11", 
          edDraftURI:           "http://w3c.github.io/web-annotation/",
          wg:                   "Web Annotation Working Group",
          wgURI:                "http://www.w3.org/annotation/",
          wgPublicList:         "public-annotation",
          wgPatentURI:          "http://www.w3.org/2004/01/pp-impl/73180/status",
          otherLinks: [
                {
                        key: "Repository",
                        data: [{
                                value: "Github Repository",
                                href: "https://github.com/w3c/web-annotation"
                        }]
                }
          ]
      };  
      </script> 
    </head>
    <body>


<!-- Swapping everything makes the entire document jump around :(  -->

<section id="abstract">

<p>Annotations are typically used to convey information about a resource or associations between resources. Simple examples include a comment or tag on a single web page or image, or a blog post about a news article.</p>

<p>The Web Annotation Data Model specification describes a structured model and format to enable annotations to be shared and reused across different hardware and software platforms. Common use cases can be modeled in a manner that is simple and convenient, while at the same time enabling more complex requirements, including linking arbitrary content to a particular data point or to segments of timed multimedia resources.</p>  

<p>The specification provides both a conceptual model that accommodates these use cases, and the vocabulary of terms that represents it.  A specific JSON format is recommended for ease of creation and consumption of the annotations.</p>

</section>

<section id="sotd"> 
<p>
  <b>This is a work in progress. No section should be considered final, and the absence of any content does not imply that such content is out of scope, or may not appear in the future. If you feel something should be covered, please <a href="mailto:public-annotation@w3.org">tell us!</a></b>
</p>

<p>
This specification was derived from the Open Annotation Community Group's outcomes, and details of the differences between the two are maintained in the <a href="#acknowledgements">Acknowledgement</a> appendix.
</p>

</section>

<section class="informative">
<h2>Introduction</h2>

<p>Annotating, the act of creating associations between distinct pieces 
of information, is a pervasive activity online in many guises but currently lacks a structured approach.  
Web citizens make comments about online resources using either tools built
in to the hosting web site, external web services, or the functionality
of an annotation client. Comments about photos on Flickr, videos on
YouTube, people's posts on Facebook, or mentions of resources on Twitter
could all be considered as annotations associated with the
resource being discussed. In addition, there are a plethora of closed and proprietary web-based
"sticky note" systems and stand-alone multimedia
annotation systems. The primary complaint about these types of systems is that
the user-created annotations cannot be shared or reused due to a deliberate "lock-in"
strategy within the environments where they were created.  The minimum requirement for any solution
is a common approach to expressing these annotations.
</p>

<p>The Web Annotation Data Model provides an extensible, interoperable framework for
expressing annotations such that they can easily be shared between
platforms, with sufficient richness of expression to satisfy complex
requirements while remaining simple enough to also allow for the most common use cases,
such as attaching a piece of text to a single web resource.</p>

<p>An annotation is considered to be a set of connected resources, 
typically including a body and target, and conveys that the body is related to the target.  
The exact nature of this relationship changes according to the intention of the annotation, but most frequently conveys 
that the body is somehow "about" the target.  Other possible relationships include that the body is an identifier for the target,  provides a representation of the target, or classifies the target in some way.  
This perspective results in a basic model with three parts, depicted below.  
The full model supports additional functionality, enabling content to be embedded within the annotation,
selecting arbitrary segments of resources, choosing the appropriate representation of a 
resource and providing styling hints to help clients render the annotation appropriately.  Annotations created by or intended
for machines are also considered to be in scope, ensuring that the Data Web is not ignored in
favor of only considering the human-oriented Document Web.</p>

<img src="images/intro_model.png" width="400" alt="Basic Annotation Model"/>

<p>The Web Annotation Data Model does not
prescribe a transport protocol for creating, managing and retrieving annotations.
Instead it describes a resource oriented structure and serialization of that structure that could be carried over many different protocols.  The related [[annotation-protocol]] specification describes a recommended transport layer, which may be adopted separately.</p>

<p>The specification is divided into the essential core plus further sections that add useful but optional functionality. 
 The additional sections cover cases where the exact nature of the body or target cannot be sufficiently captured in a single URI and describe explicit semantics when annotating multiple resources.
</p>


<section>
	<h3>Aims of the Model</h3>

	<p>
The primary aim of the Web Annotation Data Model is to provide a
standard description model and format to enable annotations to be shared between
systems.  This interoperability may be either for sharing with others,
or the migration of private annotations between devices.  The shared
annotations must be able to be integrated into existing collections
and reused without loss of significant information.  The model should
cover as many annotation use cases as possible, while keeping the simple
annotations easy and expanding from that baseline to make complex uses possible.
</p>

<p>
The Web Annotation Data Model is a single, consistent model that can be used by all interested parties.
All efforts have been made to keep the implementation costs for both producers
and consumers to a minimum.  A single method of fulfilling a use case
is strongly preferred over multiple methods, unless there are existing
standards that need to be accommodated or there is a significant cost
associated with a method that is otherwise necessary.
</p>
</section>

<section>
<h3>Diagrams and Examples</h3>

<p>
The examples throughout the document are serialized as [[JSON-LD]] using the Context given in <a href="#json-ld-context">Appendix B</a>, and also as [[Turtle]] with the prefixes taken from the namespace declarations given in <a href="#namespaces">Appendix A</a>.  They do not represent specific use cases with real resources.
</p>

<p>The diagrams use the following style</p>

<ul>
<li>Instances are depicted as colored ellipses.</li>
<li>Instances without a URI are depicted as colored ellipses with double lines.</li>
<li>Classes are depicted as white rectangles.</li>
<li>Literals are depicted as white lozenges.</li>
<li>Relationships and properties are depicted as straight, black lines.</li>
<li>Class instantiation is depicted as a straight black line with white arrow head.</li>
<li>Example instance identifiers are lowercase and end in a number.<br/>  For example, <code>anno1</code> is a specific instance of an Annotation, whereas <code>Annotation</code> is a class.</li>
<li>Example literals follow the requirements for the model and, thus, must not be interpreted as the only possible value.</li>
<li>Lists are depicted as vertical braces with a gray background and '...' in the middle (regardless of if there are actually other items in the list or not).</li>
<li>Conceptual resource boundaries not explicit in the model, but considered important for understanding, are depicted as grey dashed boxes around the components.  They are used to convey spatial parts of the diagrams and may be safely ignored.</li>
</ul>
</section>

<section>
<h3>Terminology</h3>
<p>
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in [[rfc2119]].
</p>
</section>

</section>

<!-- End Introduction -->

<section>
<h2>Web Annotation Principles</h2>

<p>
The Web Annotation Data Model is defined using the following basic principles:

<ul>
<li>An Annotation is a rooted, directed graph that represents a relationship between resources.</li>
<li>There are two types of resource that participate in this relationship, Bodies and Targets.</li>
<li>Annotations have 0..n Bodies.</li>
<li>Annotations have 1..n Targets.</li>
<li>The content of the Body resources is related to, and typically "about", the content of the Target resources.</li>
<li>Annotations, Bodies and Targets may have their own properties and relationships, typically including provenance information and descriptive metadata.</li>
<li>The intent behind the creation of an Annotation or the inclusion of a particular Body or Target is an important property and represented by a Motivation resource.</li>
</ul>
</p>

<p>
The following principles describe additional distinctions regarding the exact nature of Target and Body:

<ul>
<li>The Target or Body resource may be more specific than the entity identified by the resource's URI alone.</li>
<li>In particular,
  <ul>
<li>The Target or Body resource may be a specific segment of the resource.</li>
<li>The Target or Body resource may be styled in a specific way.</li>
<li>The Target or Body resource may be a specific state of the resource.</li>
<li>The Target or Body resource may be included in the Annotation with a specific role.</li> 
<li>The Target or Body resource may be any combination of the above.</li>
</ul></li>
<li>The resource with these more specific constraints is a separate resource, called a SpecificResource.</li>
<li>The SpecificResource is derived from a resource identified by a URI.</li>
<li>The identity of the SpecificResource is separate from the description(s) of how to obtain the SpecificResource.</li>
</ul>
</p>

<p>
The following principles describe additional semantics regarding multiple resources:

<ul>
<li>A resource may be a choice between multiple resources.</li>
<li>A resource may be a unique, unordered set of resources.</li>
<li>A resource may be an ordered list of resources.</li>
<li>These resources may be used anywhere a resource may be used.</li>
</ul>
</p>
</section>


<section>
	<h2>Web Annotation Framework</h2>

<section>
<h3>Annotations</h3>

<p>
An Annotation is a web resource. Typically, an Annotation has a single Body, which is a comment or other descriptive resource, and a single Target that the Body is somehow "about".  The Annotation likely also has additional descriptive properties. </p>

<p><b>Example Use Case:</b> Alice has written a post that makes a comment about a particular web page.  Her client creates an Annotation with the post as the body resource, and the web page as the target resource.</p>

<h4>Model</h4>

<p>
The fundamental features of an Annotation are:

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>
<tr><td>@id</td><td>Property</td><td> - </td><td>The identity of the Annotation
<br/>An Annotation SHOULD have exactly 1 http/https URI that identifies it, but MAY have no identity.</td></tr>
<tr><td>@type</td><td>Relationship</td><td>rdf:type</td><td>The class of the Annotation
  <br/>An Annotation MUST have at least the <code>Annotation</code> class, and MAY have other classes.</td></tr>
<tr><td>Annotation</td><td>Class</td><td>oa:Annotation</td><td>The class for Web Annotations
<br/>The <code>Annotation</code> class MUST be associated with an Annotation.</td></tr>
<tr><td>body</td><td>Relationship<br/>Property</td><td>oa:hasBody</td><td>The relationship between an Annotation and the Body of the Annotation
<br/>There SHOULD be 1 or more <code>body</code> relationships or properties associated with an Annotation but there MAY be 0. <b>Note Well</b> that as the body may be a property or a relationship, when it is a URI, it MUST be given as the value of an <code>@id</code> property of an object in the JSON-LD serialization.
</td></tr>
<tr><td>target</td><td>Relationship</td><td>oa:hasTarget</td><td>The relationship between an Annotation and its Target
<br/>There MUST be 1 or more <code>target</code> relationships associated with an Annotation.
</td></tr>
</table>

<h4>Example</h4>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Basic Annotation Model (JSON-LD)">
{
  "@id": "http://example.org/anno1",
  "@type": "Annotation",
  "body": {"@id": "http://example.org/post1"},
  "target": "http://example.com/page1" 
}
</pre>
</div>
<div class="tab_turtle">
<pre class="example highlight" title="Basic Annotation Model (Turtle)">
&lt;http://example.org/anno1&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/post1&gt; ;
    oa:hasTarget &lt;http://example.com/page1&gt; .</pre>
</div>
<div class="tab_diagram">
  <div class="example highlight" title="Basic Annotation Model (Diagram)">
<div class="example-title">Basic Annotation Model (Diagram)</div>
    <img src="images/basic_anno.png" width="600"/>
  </div>
</div>
</div>

<section>
<h3>Creation Information</h3>

<p>
It is often important to have information about the context in which the Annotation was created.  In particular, the person, organization or machine responsible for the Annotation deserves credit for their contribution, and the time at which the Annotation was created is useful for filtering out old, potentially irrelevant content. The creator of the Annotation is also useful for determining the trustworthiness of the Annotation. The software used to create and serialize the Annotation, along with when that activity occurred, is useful for both advertising and debugging issues.
</p>

<p><b>Example Use Case:</b> Beatrice writes a review of a restaurant online, and wishes to be associated with that review so that her friends know that it was her review and can trust it.  Her client adds her account's identity, and its own identity, to the Annotation.</p>

<h4>Model</h4>

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>

<tr><td>creator</td><td>Relationship</td><td>dcterms:creator</td><td>The agent responsible for creating the Annotation.  This may be either a human or software agent.  
<br/>There SHOULD be exactly 1 <code>creator</code> relationship,
but MAY be 0 or more than 1, as the Annotation's creator may wish to remain anonymous, or multiple 
agents may have worked together on it.</td></tr>
<tr><td>created</td><td>Property</td><td>dcterms:created</td><td>The time at which the Annotation was created.  
<br/>There SHOULD be exactly 1 <code>created</code> property per Annotation, and MUST NOT be more than 1.
The datetime MUST be expressed in the <a href="http://www.w3.org/TR/xmlschema-2/#dateTime">xsd:dateTime</a> format, and SHOULD have a timezone specified.</td></tr>
<tr><td>generator</td><td>Relationship</td><td>prov:wasGeneratedBy</td><td>The agent responsible for generating the Annotation to be transferred between client and server.  
<br/>There MAY be 0 or more <code>generator</code> relationships.</td></tr>
<tr><td>generated</td><td>Property</td><td>prov:generatedAtTime</td><td>The time at which the agent referenced by <code>generator</code> generated the Annotation, and any subsequent substantially different one. 
<br/>There MAY be exactly 1 <code>generated</code> property per Annotation, and MUST NOT be more than 1.
The datetime MUST be expressed in the <a href="http://www.w3.org/TR/xmlschema-2/#dateTime">xsd:dateTime</a> format, and SHOULD have a timezone specified.</td></tr>
</table>

<h4>Example</h4>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>  
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Creation Information (JSON-LD)">
{
  "@id": "http://example.org/anno2",
  "@type": "Annotation",
  "creator": "http://example.org/user1",
  "created": "2013-01-28T12:00:00Z",
  "generator": "http://example.org/client1",
  "generated": "2013-02-04T12:00:00Z",
  "body": {"@id": "http://example.net/review1"},
  "target": "http://example.com/restaurant1"
}
</pre>  
</div>
<div class="tab_turtle">
  <pre class="example highlight" title="Creation Information (Turtle)">
&lt;http://example.org/anno2&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.net/review1&gt; ;
    oa:hasTarget &lt;http://example.com/restaurant1&gt; ;
    dcterms:creator &lt;http://example.org/user1&gt; ;
    dcterms:created "2013-01-28T12:00:00Z" ;
    prov:wasGeneratedBy &lt;http://example.org/client1&gt; ;
    prov:generatedAtTime "2013-02-04T12:00:05Z" .</pre>
</div>
<div class="tab_diagram">
  <div class="example highlight">
    <div class="example-title">Creation Information (Diagram)</div>
    <img src="images/anno_prov.png" width="600"/>
  </div>
</div>
</div>
</section>

<section>
<h3>Creation Agents</h3>

<p>
More information about the agents involved in the creation of an Annotation is normally required beyond a URI that identifies them.  This includes whether they are an individual, a group or a piece of software and properties such as real name, account name, and email address.
</p>

<p><b>Example Use Case:</b> Corina wants to submit an Annotation to a system that does not manage her identity, and would like a pseudonym to be displayed.  Her client adds this information to the Annotation to send to the service.</p>

<h4>Model</h4>

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>
<tr><td>@id</td><td>Property</td><td> - </td><td>The identity of the agent
<br/>An Agent SHOULD have exactly 1 http/https URI that identifies it.</td></tr>
<tr><td>@type</td><td>Relationship</td><td>rdf:type</td><td>The class of the Body
  <br/>An Agent SHOULD have at least 1 class, from those below.</td></tr>

<tr><td>Person</td><td>Class</td><td>foaf:Person</td><td>The class for a human agent, typically used as the class of the <code>creator</code> of the Annotation</td></tr>
<tr><td>Organization</td><td>Class</td><td>foaf:Organization</td><td>The class for an organization, as opposed to an individual. This might be used as the class <code>creator</code> of the Annotation.</td></tr>
<tr><td>Software</td><td>Class</td><td>prov:SoftwareAgent</td><td>The class for a software agent, typically used as the class of the <code>generator</code> of the Annotation. It might also be used for the object of the <code>creator</code> for machine generated Annotations.</td></tr>

<tr><td>name</td><td>Property</td><td>foaf:name</td><td>The name of the agent.
<br/>Each agent SHOULD have exactly 1 <code>name</code> property. </td></tr>
<tr><td>account</td><td>Property</td><td>foaf:nick</td><td>The account name of the agent.
<br/>Each agent SHOULD have exactly 1 <code>nick</code> property. </td></tr>
<tr><td>email</td><td>Relationship</td><td>foaf:mbox</td><td>The email address associated with the agent, using the mailto: URI scheme.
<br/>Each agent MAY have 1 or more <code>email</code> addresses</td></tr>
<tr><td>homepage</td><td>Relationship</td><td>foaf:homepage</td><td>The home page for the agent.<br/>Each agent MAY have 1 or more home pages.</td></tr>

</table>

<h4>Example</h4>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>   
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Creation Agents (JSON-LD)">
{
  "@id": "http://example.org/anno3",
  "@type": "Annotation",
  "creator": {
    "@id": "http://example.org/user1",
    "@type": "Person",
    "name": "My Pseudonym",
    "nick": "pseudo"
  },
  "generator": {
    "@id": "http://example.org/client1",
    "@type": "SoftwareAgent",
    "name": "Code v2.1",
    "homepage": "http://example.org/agent2/homepage"
  },
  "body": {"@id": "http://example.net/review1"},
  "target": "http://example.com/restaurant1"
}
</pre>
</div>
<div class="tab_turtle">
  <pre class="example highlight" title="Creation Agents (Turtle)">
&lt;http://example.org/anno3&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.net/review1&gt; ;
    oa:hasTarget &lt;http://example.com/restaurant1&gt; ;
    dcterms:creator &lt;http://example.org/user1&gt; ;
    prov:generatedBy &lt;http://example.org/client1&gt; .

  &lt;http://example.org/user1&gt; a foaf:Person ;
    foaf:nick "pseudo" ;
    foaf:name "My Pseudonym" .

  &lt;http://example.org/client1&gt; a prov:SoftwareAgent ;
    foaf:homepage &lt;HomePage1&gt; ;
    foaf:name "Code v2.1" .</pre>
</div>

<div class="tab_diagram">
  <div class="example highlight">
    <div class="example-title">Creation Agents (Diagram)</div>
    <img src="images/prov_agents.png" width="600"/>
  </div>
</div>

</div>
</section>

<section>
<h3>Creation Reason</h3>

<p>In many cases it is important to understand the reasons why the Annotation was created, not just the agents involved.  These reasons are provided by declaring the motivation for the Annotations creation; the "why" rather than the "who" and "when" described in the previous sections.</p>

<p><b>Example Use Case:</b>Dawn annotates a resource intending to provide a further description of it, perhaps for a screen reader to read aloud. Her client adds the right motivation to the Annotation to capture this.</p>


<h4>Model</h4>

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>
<tr><td>Motivation</td><td>Class</td><td>oa:Motivation</td><td>The Motivation for an Annotation is a reason for its creation, and might include things like Replying to another annotation, Commenting on a resource, or Linking to a related resource. </td></tr>
<tr><td>motivation</td><td>Relationship</td><td>oa:motivatedBy</td><td>The relationship between an Annotation and a Motivation.
<br/>There SHOULD be at least 1 Motivation for each Annotation, and MAY be more than 1.</td></tr>

<tr><th colspan="4">Motivations</th></tr>

<tr><td>bookmarking</td><td>Instance </td><td>oa:bookmarking</td><td> The motivation for when the user intends to create a bookmark to the Target or part thereof. For example an Annotation that bookmarks the point in a text where the reader finished reading.</td></tr>
<tr><td>classifying</td><td>Instance </td><td>oa:classifying</td><td> The motivation for when the user intends to that classify the Target as something. For example to classify an image as a portrait.</td></tr>
<tr><td>commenting</td><td>Instance </td><td>oa:commenting</td><td> The motivation for when the user intends to comment about the Target. For example to provide a commentary about a particular PDF document.</td></tr>
<tr><td>describing</td><td>Instance </td><td>oa:describing</td><td> The motivation for when the user intends to describe the Target, as opposed to a comment about them.  For example describing the above PDF's contents, rather than commenting on their accuracy.</td></tr>
<tr><td>editing</td><td>Instance </td><td>oa:editing</td><td> The motivation for when the user intends to request a change or edit to the Target resource. For example an Annotation that requests a typo to be corrected. </td></tr>
<tr><td>highlighting</td><td>Instance </td><td>oa:highlighting</td><td> The motivation for when the user intends to highlight the Target resource or segment of it.  For example to draw attention to the selected text that the annotator disagrees with.</td></tr>
<tr><td>identifying</td><td>Instance</td><td>oa:identifying</td><td>The motivation for when the user intends to  assign an identity to the Target.  For example to associate the URI that identifies a city with a mention of the city in a web page.</td></tr> 
<tr><td>linking</td><td>Instance</td><td>oa:linking</td><td>The motivation for when the user intends to link to a resource related to the Target.</td></tr>
<tr><td>moderating</td><td>Instance </td><td>oa:moderating</td><td> The motivation for when the user intends to assign some value or quality to the Target. For example annotating an Annotation to moderate it up in a trust network or threaded discussion.</td></tr>
<tr><td>questioning</td><td>Instance </td><td>oa:questioning</td><td> The motivation for when the user intends to ask a question about the Target. For example to ask for assistance with a particular section of text, or question its veracity.</td></tr>
<tr><td>replying</td><td>Instance </td> <td>oa:replying</td><td> The motivation for when the user intends to reply to a previous statement, either an Annotation or another resource. For example providing the assistance requested in the above.</td></tr>
<tr><td>reviewing</td><td>Instance</td><td>oa:reviewing</td><td> The motivation for when the user intends to review the Target in some assessing fashion, rather than simply make a comment about it. For example to write a review of a Book.</td></tr>
<tr><td>tagging</td><td>Instance </td><td>oa:tagging</td><td> The motivation for when the user intends to associate a tag with the Target. Please see the sections on <a href="#tags">Tags</a> for more information.</td></tr>

</table>

<div class="note">
For more information about how Motivations can be inter-related and new Motivations created, please see <a href="#extending-motivations">this appendix</a>. 
</div>

<h4>Example</h4>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li> 
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Motivations (JSON-LD)">
{
  "@id": "http://example.org/anno4",
  "@type": "oa:Annotation",
  "motivation": "describing",
  "body": {"@id": "http://example.org/description1"},
  "target": "http://example.com/resource1"
}
</pre>
</div>
<div class="tab_turtle">
  <pre class="example highlight" title="Motivations (Turtle)">
&lt;http://example.org/anno4&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/description1&gt; ;
    oa:hasTarget &lt;http://example.com/resource1&gt; ;
    oa:motivatedBy oa:describing .</pre>
</div>
<div class="tab_diagram">
  <div class="example highlight">
    <div class="example-title">Motivations (Diagram)</div>
    <img src="images/motivations.png" width="600"/>
  </div>  
</div>
</div>
</section>
</section>



<section>
  <h2>Bodies and Targets</h2>

<p>The two main resources referenced from the Annotation are the Body and Target.  While the Target is always an External Resource, the Body may be embedded within the Annotation graph.  All of the features of External Resources may be used with Embedded Bodies.</p>

<section>
<h3>External Resources</h3>

<p>The Web is distributed, with different systems working together to provide access to content.  Annotations can be used to link those resources together, being referenced as the Body and Target.  Web Resources have identity via their URL, and have various properties, often including a format or language for the resource's content.</p>

<p><b>Example Use Case:</b> Emily records a long analysis of a patent, and publishes it on her web site as an mp3.  She then creates an Annotation with the PDF as the body, and the patent as the target.</p>

<h4>Model</h4>

<table class="model">
  <tr><td>@id</td><td>Property</td><td> - </td><td>The URI that identifies the Body or Target resource.
<br/>External Bodies or Targets MUST have exactly 1 <code>@id</code> with the value of the resource's URI.
  </td></tr>
  <tr><td>language</td><td>Property</td><td>dc:language</td><td>The language of the textual body's content
  <br/>The Body or Target SHOULD have exactly 1 language associated with it, but MAY have 0 or more.  The value of the property SHOULD be a language code following the [[rfc5646]] specifiction.</td></tr>
<tr><td>format</td><td>Property</td><td>dc:format</td><td>The format of the textual body's content
  <br/>The Body or Target SHOULD have exactly 1 format associated with it, but MAY have 0.  The value of the property SHOULD be the media-type of the format, following the [[rfc6838]] specification.</td></tr>
</table>

<h4>Example</h4>


<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li> 
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="External Resources (JSON-LD)">
{
  "@id": "http://example.org/anno5",
  "@type": "oa:Annotation",
  "body": {
    "@id": "http://example.org/analysis1.mp3",
    "format": "audio/mpeg3",
    "language": "fr"
  },
  "target": {
    "@id": "http://example.gov/patent1.pdf",
    "format": "application/pdf",
    "language": "en"
  }
}
</pre>
</div>
<div class="tab_turtle">
  <pre class="example highlight" title="External Resources (Turtle)">
&lt;http://example.org/anno5&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1.mp3&gt; ;
    oa:hasTarget &lt;http://example.org/target1.pdf&gt; .

&lt;http://example.org/body1.mp3&gt; dc:format "audio/mpeg3" ;
    dc:language "fr" .

&lt;http://example.org/target1.pdf&gt; dc:format "application/pdf",
    dc:language "en" .
</pre>
</div>
<div class="tab_diagram">
  <div class="example highlight">
    <div class="example-title">External Resources (Diagram)</div>
    <img src="images/metadata.png" width="600"/>
  </div>  
</div>
</div>


<section>
<h3>Creation Information</h3>

<p>As the Target and Body may be created at a different time, and by a different agent, from the one that created the Annotation, creation information can be associated with the Body or Target resources body.</p>

<p><b>Example Use Case:</b> Franceska writes a web page with a detailed walkthrough of a computer game.  Gretchen later creates an Annotation with that page as the body, and the computer game as the target.</p>

<h4>Model</h4>

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>
<tr><td>creator</td><td>Relationship</td><td>dcterms:creator</td><td>The agent responsible for creating the Body or Target.  This may be either a human or software agent.  
<br/>There MAY be 1 or more <code>creator</code> relationships.</td></tr>
<tr><td>created</td><td>Property</td><td>dcterms:created</td><td>The time at which the Body or Target was created.  
<br/>There MAY be exactly 1 <code>created</code> property, and MUST NOT be more than 1.
The datetime MUST be expressed in the <a href="http://www.w3.org/TR/xmlschema-2/#dateTime">xsd:dateTime</a> format, and SHOULD have a timezone specified.</td></tr>
</table>

<h4>Example</h4>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>   
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Creation Information (JSON-LD)">
{
  "@id": "http://example.org/anno6",
  "@type": "Annotation",
  "creator": {
    "@id": "http://example.org/agent1",
    "@type": "Person",
    "name": "A. Person",
    "nick": "agent1"
  }
  "body": {
    "@id": "http://example.org/walkthrough1",
    "creator": {
      "@id": "http://example.org/user1",
      "@type": "Person",
      "name": "B. Person",
      "nick": "agent2"
    }
  },
  "target": {
    "@id": "http://example.com/game1"
    "creator": {
      "@id": "http://example.com/company1",
      "@type": "Organization",
      "name": "Game Company"
    }
  }
}
</pre>
</div>
<div class="tab_turtle">
  <pre class="example highlight" title="Provenance Agents (Turtle)">
&lt;http://example.org/anno6&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/target1&gt; ;
    dcterms:creator &lt;http://example.org/agent1&gt; .

&lt;http://example.org/body1&gt; dcterms:creator &lt;http://example.org/agent2&gt; .
&lt;http://example.org/agent1&gt; dcterms:creator &lt;http://example.org/agent3&gt; .

&lt;http://example.org/agent1&gt; a foaf:Person ;
    foaf:nick "agent1" ;
    foaf:name "A. Person" .

&lt;http://example.org/agent2&gt; a foaf:Person ;
    foaf:nick "agent2" ;
    foaf:name "B. Person" .

&lt;http://example.org/agent3&gt; a foaf:Person ;
    foaf:nick "agent3" ;
    foaf:name "C. Person" .
</div>

<div class="tab_diagram">
  <div class="example highlight">
    <div class="example-title">Creation Information (Diagram)</div>
    <img src="images/prov_agents.png" width="600"/>
  </div>
</div>

</div>
</section>

<section>
<h3>Classes</h3>

<p>It is useful for clients to know the general class of an External Body or Target in advance.  If the client cannot render videos, then knowing that the Body is a video will allow it to avoid needlessly downloading a potentially large resource.  For resources that do not have obvious media types, such as many data formats, it is also useful for a client to know that a resource with the format <code>text/csv</code> should not simply be rendered as plain text, despite the first part of the media type, whereas <code>application/pdf</code> may be able to be rendered by the user agent despite the main type being 'application'.</p>

<p><b>Example Use Case:</b> Hannah shoots a video of her comment about a site on her phone and uploads it. She associates the video with the site via an Annotation, and her client adds types as a hint to consuming systems.</p>

<h4>Model</h4>

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>
<tr><td>@type</td><td>Relationship</td><td>rdf:class</td><td>The type of the Body resource.
  <br/>The Body MAY have a type, and it SHOULD be drawn from the list below.</td></tr>
<tr><td>Dataset</td><td>Class</td><td>dctypes:Dataset</td><td>The class for a resource which encodes data in a defined structure</td></tr>
<tr><td>Image</td><td>Class</td><td>dctypes:Image</td><td>The class for image resources, primarily intended to be seen</td></tr>
<tr><td>Video</td><td>Class</td><td>dctypes:Video</td><td>The class for video resources, with or without audio</td></tr>
<tr><td>Sound</td><td>Class</td><td>dctypes:Sound</td><td>The class for a resource primarily intended to be heard</td></tr>
<tr><td>Text</td><td>Class</td><td>dctypes:Text</td><td>The class for a resource primarily intended to be read</td></tr>
</table>

<h4>Example</h4>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Typing of Body and Target (JSON-LD)">
{
  "@id": "http://example.org/anno7",
  "@type":"Annotation",
  "body": {
    "@id":"http://example.org/body1",
    "@type":"Sound"
  },
  "target": {
    "@id": "http://example.org/target1",
    "@type": "Image"
  }
}
</pre>
</div>
<div class="tab_turtle">
<pre class="example highlight" title="Typing of Body and Target (Turtle)">          
&lt;http://example.org/anno7&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/target1&gt; .

&lt;body1&gt; a dctypes:Sound .
&lt;target1&gt; a dctypes:Image .</pre>
</div>
<div class="tab_diagram">
  <div class="example highlight">
    <div class="example-title">Typing of Body and Target (Diagram)</div>
    <img src="images/resourceClass.png" width="600"/>
  </div>
</div>
</div>
</section>  

<section>
<h3>Segments of Exernal Resources</h3>

<p>Many Annotations involve part of an external resource, rather than its entirety. In the Web [[webarch]], segments of resources are identified using URIs with a Fragment component that at the same time both describes how to extract the segment of interest from the resource, and identifies the extracted content.  For simple Annotations, it is valuable to be able to use these Fragment URIs as the identifier of either Body or Target.
</p>

<p><b>Example Use Case:</b> Irina wants to describe a particular region of an image.  She highlights that area in her client and types in the description. Her client then constructs the correct Fragment URI as the target.</p>

<h4>Model</h4>

<table class="model">
  <tr><td>@id</td><td>Property</td><td> - </td><td>The Fragment URI that identifies the segment of the Body or Target resource.
<br/>External Bodies or Targets MUST have exactly 1 <code>@id</code> with the value of the resource's URI, and this MAY be a Fragment URI.
  </td></tr>
</table>

<p>
  It is important to be aware of the consequences of using a Fragment URI, and the restrictions that using them places on implementations.

<ul>
<li>Fragments are defined with respect to individual media types. For example, HTML has a specific set of semantics regarding the meaning of the Fragment part of the URI.</li>
<li>Not every media type has a fragment specification.  For example, Office documents might have a media-type and be published on the web, but not have semantics associated with the Fragment part of the URI.</li>
<li>Even if a media type does have a fragment definition, it is often not possible to describe the segment of interest sufficiently precisely.  For example, fragments for HTML cannot be used to describe an arbitrary range of text.</li>
<li>It is not possible to determine with certainty what is being identified without knowing the media type, as the same fragment string might be possible in different specifications.  For example, the same fragment string could identify either a rectangular area in an image, or a strangely named section of an HTML document.</li>
<li>Fragment URIs are not compatible with other methods of describing the segment more specifically. For example, it is not possible to describe how to retrieve the correct representation, add style information, or associate a role with the resource, using Fragment URIs. The method to accomplish these requirements is described in the <a href="#specifiers">Specific Resources</a> section.</li>
<li>As URIs are considered to be opaque strings, annotation systems may not discover annotations with fragment URIs
 when searching by means of the URI without the fragment.  For example, an Annotation with the Target 
 <code>http://example.com/image.jpg#xywh=1,1,1,1</code> would not be discovered in a simple search for
 <code>http://example.com/image.jpg</code>, even though it is part of it.</li>
</ul>

For more information regarding the use of Fragment URIs, please see the Best Practices for Fragment Identifiers and Media Type Definitions [[fragid-best-practices]].
</p>

<h4>Example</h4>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Fragment URIs (JSON-LD)">
{
  "@id": "http://example.org/anno8",  
  "@type": "Annotation",
  "body": {
    "@id": "http://example.org/description1"
  },
  "target": {
    "@id": "http://example.com/image1#xywh=100,100,300,300"
  }
}
</pre>
</div>
<div class="tab_turtle">
  <pre class="example highlight" title="Fragment URIs (Turtle)">
&lt;http://example.org/anno8&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/description1&gt; ;
    oa:hasTarget &lt;http://example.com/image1#xywh=100,100,300,300&gt; .
</pre>
</div>
<div class="tab_diagram">
  <div class="example highlight">
    <div class="example-title">Fragment URIs (Diagram)</div>
    <img src="images/fraguri.png" width="600"/>
  </div>
</div>
</div>
</section>
</section>

<section>
  <h2>Embedded Bodies</h2>

<section>
  <h3>Textual Body</h3>

<p>In many situations, the body of the Annotation will be in a text format, and created at the same time as the Annotation and not have a separate URI. In these cases, the Body's text can be included as part of the Annotation to avoid having to interact with multiple systems.  The Body may also have the features of External Resources, including especially the language of the text and the format that it is conveyed in.</p>

<p><b>Example Use Case:</b> Jane writes a comment about how much she likes an image on a photo sharing website.  Her client creates an Annotation with the comment embedded within it, and adds that it is in French and formatted using HTML.</p>

<h4>Model</h4>

The fundamental features of a textual body are:

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>  
<tr><td>@id</td><td>Property</td><td> - </td><td>The identity of the textual body
<br/>The Body MAY have exactly 1 http/https URI that identifies it.</td></tr>
<tr><td>@type</td><td>Relationship</td><td>rdf:type</td><td>The class of the Body
  <br/>An Annotation MUST have at least the <code>TextualBody</code> class, and MAY have other classes.</td></tr>
<tr><td>TextualBody</td><td>Class</td><td>oa:TextualBody</td><td>A class assigned to the Body for embedding textual resources within the Annotation.<br/>
This class MUST be assigned to the Body when it is embedded within the Annotation.</td></tr>
<tr><td>text</td><td>Property</td><td>oa:text</td><td>The character sequence of the content.<br/>
There MUST be exactly 1 <code>text</code> property associated with the TextualBody.</td></tr>
<tr><td>language</td><td>Property</td><td>dc:language</td><td>The language of the textual body's content
  <br/>The textual body SHOULD have exactly 1 language associated with it, but MAY have 0 or more.  The value of the property SHOULD be a language code following the [[rfc5646]] specifiction.</td></tr>
<tr><td>format</td><td>Property</td><td>dc:format</td><td>The format of the textual body's content
  <br/>The textual body SHOULD have exactly 1 format associated with it, but MAY have 0.  The value of the property SHOULD be the media-type of the format, following the [[rfc6838]] specification.</td></tr>
</table>

<p>Textual Bodies MUST be assumed to have the <code>Text</code> class.</p>

<h4>Example</h4>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Textual Body (JSON-LD)">
{
  "@id": "http://example.org/anno9",
  "@type":"Annotation",
  "body": {
    "@type" : "TextualBody",
    "text" : "&lt;p&gt;Comment text&lt;/p&gt;",
    "format" : "text/html",
    "language" : "en"
  },
  "target": "http://example.org/target1"
}
</pre>
</div>
<div class="tab_turtle">
<pre class="example highlight" title="Textual Body (Turtle)">
&lt;http://example.org/anno9&gt; a oa:Annotation ;
    oa:hasTarget &lt;http://example.org/target1&gt; ;
    oa:hasBody [
        a oa:TextualBody;
        oa:text "&lt;p&gt;Comment text&lt;/p&gt;" ;
        dc:language "en" ;
        dc:format "text/html"
    ] .
</pre>
</div>
<div class="tab_diagram">
  <div class="example highlight">
<div class="example-title">Textual Body (Diagram)</div>
    <img src="images/inline_body.png" width="600"/>
  </div>
</div>
</div>

<section>
  <h3>Inclusion Reason</h3>

<p>In the same way that Annotations may have a Motivation for their creation, a Body may be included in the Annotation for a particular reason.  This may be different from the Motivation for the creation of the Annotation.</p>

<p><b>Example Use Case:</b> Kelly tags a web page that she wants to come back and read with "readme".  The motiation for creating the annotation is bookmarking the page, and the role of the body is tagging that page with a particular string tag that she can later go back and search for.</p>

<h4>Model<h4>

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>
<tr><td>role</td><td>Relationship</td><td>oa:hasRole</td><td>The reason for including the Body in the Annotation.
<br/>There SHOULD be exactly 1 <code>role</code> for a Textual Body, and the value MUST be a <code>Motivation</code></td></tr>
</table>

<p>It is important to note that this feature cannot be used directly with External Resources in the same way as for TextualBody resources.  See <a href="">this section</a> for how to structure roles with External Resources using a SpecificResource.</p>

<h4>Example</h4>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Textual Body (JSON-LD)">
{
  "@id": "http://example.org/anno10",
  "@type":"Annotation",
  "motivation": "bookmarking",
  "body": {
    "@type" : "TextualBody",
    "text" : "readme",
    "role" : "tagging"
  },
  "target": "http://example.org/page1"
}
</pre>
</div>
<div class="tab_turtle">
<pre class="example highlight" title="Textual Body (Turtle)">
&lt;http://example.org/anno10&gt; a oa:Annotation ;
    oa:motivatedBy oa:bookmarking ;
    oa:hasBody [
        a oa:TextualBody;
        oa:text "readme" ;
        oa:hasRole oa:tagging 
    ] ;
    oa:hasTarget &lt;http://example.org/page1&gt; .    
</pre>
</div>
<div class="tab_diagram">
  <div class="example highlight">
<div class="example-title">Textual Body (Diagram)</div>
    <img src="images/inline_body.png" width="600"/>
  </div>
</div>
</div>

</section>
</section>

<section>
<h3>String Body</h3>

<p>
The simplest type of Body is a plain text string, without additional information or properties.  This type of body is useful for the simplest of Annotations only, and is NOT RECOMMENDED for uses where the content of the body has any intellectual value or may need to be referred to from outside of the Annotation.
</p>  

<p><b>Example Use Case</b> Megan wants to create a quick Annotation from a simple, command line client.  She creates the JSON serialization in a text file and sends it to her Annotation server to maintain.</p>

<h4>Model</h4>

<div class="note">

An alternative that would allow clients to avoid type checking and make the model more coherent under consideration is to use a separate property, <code>bodyText</code>, to record the text of the body.

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>
<tr><td>bodyText</td><td>Property</td><td>oa:bodyText</td><td>The string value of the body of the Annotation.
<br/>There MAY be exactly 1 <code>bodyValue</code> for an Annotation, and the value MUST conform to the requirements above.</td></tr>
</table>

</div>

<p>
There are several restrictions on when this form may be used and how it is to be interpreted. 
<br/>The string body:
<ul>
	<li>MUST be an <code>xsd:string</code> and the data type MUST NOT be expressed in the serialization.</li>
  <li>MUST NOT have a language associated with it.</li>
  <li>MUST be interpreted as if it were the value of the <code>text</code> property of a Textual Body.</li>
	<li>MUST be interpreted as if the Textual Body resource had a <code>format</code> property with the value <code>text/plain</code>.</li>
  <li>MUST be interpreted as if the Textual Body resource had a <code>role</code> property with the value of <code>commenting</code>.</li>
	<li>MUST NOT have the value of other properties of the Textual Body inferred from similar properties on the Annotation resource.</li>
</ul>
</p>

<p class="note">In order for the <code>body</code> value to be a URI, it MUST be in the <code>{"@id": "URI"}</code> form, otherwise it will be considered a string literal.  However, as <code>target</code> MUST NOT be a string literal, it MAY be given as either a string or in the JSON object form.</p>


<h4>Example</h4>


<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="String Body (JSON-LD)">
{
	"@id": "http://example.org/anno11",
	"@type":"oa:Annotation",
	"body": "Comment text",
	"target": "http://example.org/target1"
}
</pre>
</div>
<div class="tab_turtle">
<pre class="example highlight" title="String Body (Turtle)">
&lt;http://example.org/anno11&gt; a oa:Annotation ;
    oa:hasBody "Comment text" ;
    oa:hasTarget &lt;http://example.org/target1&gt; .</pre>
</div>
<div class="tab_diagram">
  <div class="example highlight">
    <div class="example-title">String Body (Diagram)</div>
    <img src="images/simpleTextBody.png" width="600"/>
  </div>
</div>

</div>

</section>
</section>
</section>
</section>



<section>
<h2>Specific Resources</h2>

<p>
While it is possible using only the constructions in the core data model described above to create Annotations that reference parts of resources by using Fragment URIs, there are many situations when this is not sufficient.  For example, even a simple circular region of an image, or a diagonal line across it, are not possible.  Selecting an arbitrary span of text in an HTML page, perhaps the simplest annotation concept, is also not supported by fragment URIs.  Furthermore, there are non-segment use cases that require a client to retrieve a specific state or representation of the resource, to style it in a particular way, to associate a role with the resource that is specific to the Annotation's use of it, or for the Annotation to only apply when the resource is used in a particular context. 
</p>

<p>The Web Annotation Data Model uses a new type of resource to capture these Annotation-specific requirements: a SpecificResource.  The SpecificResource is used in between the Annotation and the Body or Target, as appropriate, to capture the additional description of how it is used in the Annotation. The descriptions are referenced from the SpecificResource as separate entities and can be of various types to capture the different requirements.  For example, if the Target of the Annotation is a circular region of an image, then the SpecificResource is the circular region, it is described by a Selector, and is also associated with the source Image resource.</p>

<p>
<figure>
  Diagram goes here
</figure>
</p>

<p>
The types of additional specificity that are available:

<ul>
  <li><b>State:</b> Describe the desired representation of the source resource for the Annotation</li>
  <li><b>Selector:</b> Describe the desired segment of the source resource for the Annotation</li>
  <li><b>Style:</b> Describe the style in which the source resource should be presented for the Annotation</li>
  <li><b>Scope:</b> Describe the scope in which the source resource applies for the Annotation</li>
  <li><b>Role:</b> Describe the role that the source resource plays for the Annotation</li>
</ul>
</p>

<p> The same Specifier classes are used for both Specific Target and Specific Body.  
The diagrams and examples in this section only depict one of these, however the same model applies for both.</p>

<p><b>Example Use Case:</b> Noelle wants to make a comment about a circular region in an Image.  She uses her client to draw the region and then writes her comment.</p>

<h4>Model</h4>

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>
<tr><td>@id</td><td>Property</td><td> - </td><td>The identity of the Specific Resource
<br/>An Specific Resource MAY have exactly 1 http/https URI that identifies it, or MAY have no identity.</td></tr>
<tr><td>@type</td><td>Relationship</td><td>rdf:type</td><td>The class of the Specific Resource
  <br/>The Specific Resource SHOULD have the <code>SpecificResource</code>.</td></tr>
<tr><td>SpecificResource</td><td>Class</td><td>oa:SpecificResource</td><td>The class for Specific Resources
<br/>The <code>SpecificResource</code> class SHOULD be associated with a Specific Resource to be clear as to its role as a more specific region or state of another resource.</td></tr>
<tr><td>source</td><td>Relationship</td><td>oa:hasSource</td><td>The relationship between a Specific Resource and the resource that it is a more specific representation of.
<br/>There MUST be exactly 1 <code>source</code> relationship associated with a Specific Resource.  The source resource MAY be described in detail as in the core data model or be just the resource's URI.
</td></tr>
</table>


<h4>Example</h4>

<figure>

		<figcaption>Specific Resources</figcaption>
</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Specific Resources (JSON)">
{
  "@id": "http://example.org/anno12",
  "@type": "Annotation",
  "body": {"@id": "http://example.org/comment1"},
  "target": {
    "@id": "http://example.org/region1",
    "@type": "SpecificResource",
    "source": "http://example.org/image1"
  }
}
</pre>
</div>
<div class="tab_turtle">
	<pre class="example highlight" title="Specific Resources (Turtle)">
&lt;http://example.org/anno15&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/comment1&gt; ;
    oa:hasTarget &lt;http://example.org/region1&gt; .

&lt;http://example.org/region1&gt; a oa:SpecificResource ;
    oa:hasSource &lt;http://example.org/image1&gt; .</pre>
</div>
<div class="tab_diagram">
  <div class="example highlight">
    <div class="example-title">Specific Resources (Diagram)</div>
    <img src="images/specificresource.png" width="600"/>
  </div>
</div>
</div>
</section>


<section>
  <h3>Roles for External Resources</h3>

<p>As well as Textual Bodies, roles can be associated with External Resources.  This is done using the Specific Resource pattern, as the role specifies the way in which the resource is used in the context of the Annotation in the same way as a Selector describes the segment or a State describes the representation.</p>

<p><b>Example Use Case:</b> Ophelia wants to tag a photo with an identifier for a city, rather than just type the city's name which could be ambiguous. Her client uses a well-known URI for the city having done a search for it, and creates a Specific Resource to manage the role.</p>


<h4>Model</h4>

<table class="model">
<tr><th>Term</th><th>Type</th><th>URI</th><th>Description</th></tr>
<tr><td>role</td><td>Relationship</td><td>oa:hasRole</td><td>The reason for including the External Resource in the Annotation.
<br/>There MAY be exactly 1 <code>role</code> associated with the SpecificResource, and the value MUST be a <code>Motivation</code></td></tr>
</table>


<h4>Example</h4>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
  <li><a href="#tab_diagram">Diagram</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Resource with Role (JSON-LD)">
{
  "@id": "http://example.org/anno7",
  "@type": "oa:Annotation",
  "body": {
    "@type": "SpecificResource",
    "role": "tagging",
    "source": "http://example.org/city1"
  },
  "target": {
    "@id": "http://example.org/photo1",
    "@type": "dctypes:Image"
  }
}
</pre>
</div>
<div class="tab_turtle">
  <pre class="example highlight" title="Resource with Role (Turtle)">
&lt;http://example.org/anno7&gt; a oa:Annotation ;
    oa:hasTarget &lt;http://example.org/photo1&gt; ;
    oa:hasBody [
        a oa:SpecificResource ;
        oa:hasRole oa:tagging ;
        oa:hasSource &lt;http://example.org/city1&gt;
    ] .

&lt;http://example.org/target1&gt; a dctypes:Image .</pre>
  </div>
<div class="tab_diagram">
  <div class="example highlight">
    <div class="example-title">Resource with Role (Diagram)</div>
    <img src="images/tagging.png" width="600"/>
  </div>
</div>
</div>
</section>

<section>
<h3>Selectors</h3>

<p>Many Annotations refer to part of a resource, rather than all of it, as the Target.
Examples include Annotations on an area within an image or video, a range of characters in text, a
time segment in an audio file or a slice of a dataset.  Equally, the
segment may be the Body of the Annotation, where the comment is given
at a particular point in the video, or in a particular paragraph of
text.</p>

<p>A Selector is a Specifier which describes how to determine the
segment of interest from within the retrieved representation of the Source resource.  The
nature of the Selector will be dependent on the type of the
representation for which the segment is conveyed.  For example the
methods used to describe a section of an image will be very different
to the methods used to discover the correct paragraph of text, or the
correct slice of a dataset.</p>

<p>
Only one Selector can be associated with a Specific Resource.  If multiple Selectors are required,
either to express a choice between different optional, equivalent selectors, or a chain of selectors
 that should all be processed, it is necessary to use the constructions described in the <a href="#multiplicity">Multiplicity</a> module.
</p>

<p>Typically if all of the information needed to resolve the Selector (or other Specifier) is present within the graph, such as is the case for the FragmentSelector, TextQuoteSelector, TextPositionSelector and DataPositionSelector classes, then there is no need to have a resolvable resource that provides the same information. However for the SvgSelector any other Specifiers that have a representation with a life of its own, it may be easier or more efficient to have the [[SVG]] document resolvable separately from the Annotation via an HTTP URI.
</p>

<p>It must also be noted that the model allows several equivalent expressions of the same segment of interest.  For example, to describe a rectangular area, it is possible to use URIs with fragments directly (as in the Core document), the FragmentSelector class, or the SvgSelector.  Similarly for plain text documents, either RFC 5147 or the Text Selectors could be used. While this is not optimal from an interoperability perspective, this could not be avoided at the same time as keeping the Web Annotation model flexible and compatible with existing specifications.  It is RECOMMENDED that communities implement shared bridging strategies and follow the recommendations of the specification and any best practice documents wherever possible.</p>



<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:Selector</td><td>Class</td><td> </td><td>The super class for individual Selectors. This class is not used directly in Annotations, only its subclasses are.</td></tr>
<tr><td>oa:hasSelector</td><td>Relationship</td><td>selector</td><td>The relationship between a Specific Resource and a Selector.
<br/>There MUST be exactly 0 or 1 oa:hasSelector relationship associated with a Specific Resource.
</td></tr>
</table>

<h4>Serialization</h4>

<figure>
		<img src="images/selector.png" width="600"/>
		<figcaption>Selectors</figcaption>
</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Selectors (JSON-LD)">
{
  "@id": "http://example.org/anno16",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "selector": {
      "@id": "http://example.org/selector1",
      "@type": "oa:Selector"
    }
  }
}
</pre>
</div>
<div class="tab_turtle">
	<pre class="example highlight" title="Selectors (Turtle)">
&lt;http://example.org/anno16&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSource &lt;http://example.org/target1&gt; ;
    oa:hasSelector &lt;http://example.org/selector1&gt; .

&lt;http://example.org/selector1&gt; a oa:Selector .</pre>
</div>
</div>

<section>
<h3>Fragment Selector</h3>

<p>The web architecture defines a method of identifying a particular
segment of a resource, using the fragment part of the URI.  This has
been used for media type specific fragments (such as XML and PDF) and
more recently for media fragments that are applicable to entire
classes of resources, such as Image and Video, regardless of their
exact media type.</p>  

<p>
The Web Annotation model defines a fragment-based Selector (<code>oa:FragmentSelector</code>) which allows 
both existing and future fragment specifications to be used to describe the segment of interest.
The description of the segment is the syntax for the fragment identifier component 
of the URI, and it is included in the Annotation graph via the <code>rdf:value</code> property.
Thus a fragment URI may be reconstructed by concatenating the
<code>oa:hasSource</code> resource's URI, plus a '#', plus the value.  
For example, if the resource's URI was <code>http://www.example.com/image.jpg</code>
and the <code>rdf:value</code> property was <code>"xywh=1,2,3,4"</code>, then the resulting URI would 
be <code>http://www.example.com/image.jpg#xywh=1,2,3,4</code>.    
</p>

<p>It is RECOMMENDED to use <code>oa:FragmentSelector</code> rather than annotating the fragment URI directly, although consuming applications MUST be aware of both.  
Publishing systems MAY rewrite fragment URIs into the corresponding <code>oa:FragmentSelector</code> form, except when the URI is for a Semantic Tag.  
</p>

<p>
The value of the FragmentSelector MUST be processed based on the standard that it conforms to, expressed using the 
<code>dcterms:conformsTo</code> relationship. If that is not present, then the media 
type of the Source resource shoudl be used to determine the meaning of the fragment.  This is to prevent misinterpretation of the fragment identifier component, which is by definition media type dependent. For example, it is possible to construct a fragment identifier 
that looks like it conforms to the <a href="http://www.w3.org/TR/media-frags/">W3C Media Fragment</a> specification 
as part of an HTML anchor.  Any information provided in a <a href="#states">State</a> 
should be used to be certain that the representation appropriate for the FragmentSelector is retrieved.
</p>

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:FragmentSelector</td><td>Class</td><td> </td><td>[subClass of
oa:Selector] A resource which describes the segment of interest in a
representation, through the use of the fragment identifier component of a URI.</td></tr>
<tr><td>rdf:value</td><td>Property</td><td>value</td><td>The contents of the
fragment identifier component of a URI that describes the segment of interest in the
resource.<br/>
The oa:FragmentSelector MUST have exactly 1 rdf:value property.
</td></tr>
<tr><td>dcterms:conformsTo</td><td>Relationship</td><td>conformsTo</td><td>The Fragment Selector SHOULD have a dcterms:conformsTo relationship
with the object being the specification that defines the syntax of the fragment.</td></tr>
</table>


<p>
URIs used to identify fragment specifications:
<table class="model">
<tr><th>Fragment Specification</th><th>Description</th></tr>
<tr><td>http://tools.ietf.org/rfc/rfc3236</td><td>[[rfc3236]] Example: #namedSection </td></tr>
<tr><td>http://tools.ietf.org/rfc/rfc3778</td><td>[[rfc3778]] Example: #page=10&amp;viewrect=50,50,640,480</td></tr>
<tr><td>http://tools.ietf.org/rfc/rfc5147</td><td>[[rfc5147]] Example: #char=0,10</td></tr>
<tr><td>http://tools.ietf.org/rfc/rfc3023</td><td>[[rfc3023]] Example: #xpointer(/a/b/c) </td></tr>
<tr><td>http://www.ietf.org/rfc/rfc3870</td><td>[[rfc3870]] Example: #namedResource </td></tr>
<tr><td>http://www.w3.org/TR/media-frags/</td><td>[[media-frags]] Example: #xywh=50,50,640,480</td></tr>
<tr><td>http://www.w3.org/TR/SVG/</td><td>[[SVG]]. Example: #svgView(viewBox(50,50,640,480))</td></tr>
</table>
</p>

<figure>
		<img src="images/fragmentselector.png" width="600"/>
		<figcaption>Fragment Selector</figcaption>
	</figure>
<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Fragment Selector (JSON-LD)">
{
  "@id": "http://example.org/anno17",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "selector": {
      "@id": "http://example.org/selector1",
      "@type": "oa:FragmentSelector",
      "value": "namedSection",
      "conformsTo": "http://example.org/spec1"
    }
  }
}
</pre>
	</div><div class="tab_turtle">
<pre class="example highlight" title="Fragment Selector (Turtle)">
&lt;http://example.org/anno17&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSelector &lt;http://example.org/selector1&gt; ;
    oa:hasSource &lt;http://example.org/target1&gt; .

&lt;http://example.org/selector1&gt; a oa:FragmentSelector ;
    dcterms:conformsTo &lt;http://example.org/spec1&gt; ;
    rdf:value "namedSection" .</pre>
</div>
</div>
</section>

<section>
<h3>Range Selectors</h3>

<p>There are several selectors that describe how to extract segments that have a start and end in linear data, such as extracting characters from text or bytes from data.  Range selectors are also used to describe points within linear data, for example a cursor location for where to insert information into a web page.  This is done by giving a 0 length selection.</p>

<p>Three Range Selectors are defined by the model, two for text and one for bitstreams.</p>

<section>
<h3>Text Position Selector</h3>

<p>
Any sublist of an ordered list of characters can be selected by starting at a particular point in the stream and reading forwards until an end point.
 
The start can be thought of as the position of a cursor in the list.  Position 0 would be immediately before the first character, position 1 would be immediately before the second character, and so on.  The start character is thus included in the list, but the end character is not as the cursor stops immediately before it.
<br/>
For example, if the document was "abcdefghijklmnopqrstuvwxyz", the start was 4, and the end was 7, then the selection would be "efg".
</p>

<p>The text MUST be normalized before counting characters.  
HTML/XML tags should be removed, character entities should be replaced with the
character that they encode, unnecessary whitespace should be normalized, and so forth.  The normalization routine may be performed automatically by a browser, and other applications should implement the DOM String Comparisons [[DOM-Level-3-Core]] method.
This allows the Selector to be used with different formats and still have the same semantics and utility.  For a Selector that works from the bitstream rather than the rendered characters, please see the <a href="#data-position-selector">Data Position Selector</a>.
</p>

<p>
The use of this Selector does not require text to be copied from the Source document into the
Annotation graph, unlike the Text Quote Selector, but is very brittle with regards to changes to the resource. Any edits may change the selection, and thus it is RECOMMENDED that a <a href="#states">State</a>
be additionally used to help identify the correct representation.
</p>

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:TextPositionSelector</td><td>Class</td><td> </td><td>[subClass of oa:Selector] The class for a Selector which describes a range of text based on its start and end positions.</td></tr>
<tr><td>oa:start</td><td>Property</td><td>start</td><td>The starting position of the segment of text. The first character in the full text is character position 0, and the character is included within the segment.
<br/>Each TextPositionSelector MUST have exactly 1 oa:start property.</td></tr>
<tr><td>oa:end</td><td>Property</td><td>end</td><td>The end position of the segment of text. The last character is not included within the segment.
<br/>Each TextPositionSelector MUST have exactly 1 oa:end property.</td></tr>

</table>


<h4>Serialization</h4>

<figure>
		<img src="images/textposition.png" width="600"/>
		<figcaption>Text Position Selector</figcaption>
</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Text Position Selector (JSON-LD)">
{
  "@id": "http://example.org/anno18",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "selector": {
      "@id": "http://example.org/selector1",
      "@type": "oa:TextPositionSelector",
      "start": 4,
      "end": 7
    }
  }
}
</pre>

	</div><div class="tab_turtle"><pre class="example highlight" title="Text Position Selector (Turtle)">
&lt;http://example.org/anno18&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSource &lt;http://example.org/target1&gt; ;
    oa:hasSelector &lt;http://example.org/selector1&gt; .

&lt;http://example.org/selector1&gt; a oa:TextPositionSelector ;
    oa:start 4 ;
    oa:end 7 .</pre>
</div>
</div>
</section>

<section>
<h3>Text Quote Selector</h3>

<p>This Selector describes a range of text by copying it, and including some range of text immediately before 
and after it to distinguish between multiple copies of the same sequence of characters within the document. 
The length of the prefix and suffix should be determined from the context of the document.
</p>
<p>
For example, if the document were again "abcdefghijklmnopqrstuvwxyz",
one could select "efg" by a prefix of "abcd", the quotation of "efg"
and a suffix of "hijk".
</p>

<p>The text MUST be normalized before recording.  
Thus HTML/XML tags should be removed, character entities should be replaced with the
character that they encode, unnecessary whitespace should be normalized, and so forth.
The normalization routine may be performed automatically by a browser, and other applications should implement the <a href="http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-5DFED1F0">DOM String Comparisons</a> method. This allows the Selector to be used with different encodings and still have the same semantics and utility.
</p>

<p>If the content is under copyright, then this method of selecting text is potentially dangerous.
A user might select the entire text of the document to annotate, which would not be desirable to copy
into the Annotation and publish openly. For static texts with access and/or
distribution restrictions, the use of the Text Position Selector is perhaps more appropriate.
</p>

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>

<tr><td>oa:TextQuoteSelector</td><td>Class</td><td> </td><td>[subClass of oa:Selector] The class for a Selector that describes a textual segment by means of quoting it, plus passages before or after it.</td></tr>
<tr><td>oa:exact</td><td>Property</td><td>exact</td><td>A copy of the text which is being selected, after normalization.
<br/>Each TextQuoteSelector MUST have exactly 1 oa:exact property. </td></tr>
<tr><td>oa:prefix</td><td>Property</td><td>prefix</td><td>A snippet of text that occurs immediately before the text which is being selected.
<br/>Each TextQuoteSelector SHOULD have exactly 1 oa:prefix property, and MUST NOT have more than 1.</td></tr>
<tr><td>oa:suffix</td><td>Property</td><td>suffix</td><td>The snippet of text that occurs immediately after the text which is being selected.
<br/>Each TextQuoteSelector SHOULD have exactly 1 oa:suffix property, and MUST NOT have more than 1.</td></tr>
</table>

<h4>Serialization</h4>

<figure>
		<img src="images/textquote.png" width="600"/>
		<figcaption>Text Quote Selector</figcaption>
</figure>


<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Text Quote Selector (JSON-LD)">
{
  "@id": "http://example.org/anno19",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "selector": {
      "@id": "http://example.org/selector1",
      "@type": "oa:TextQuoteSelector",
      "exact": "efg",
      "prefix": "abcd",
      "suffix": "hij"
    }
  }
}
</pre>

	</div><div class="tab_turtle"><pre class="example highlight" title="Text Quote Selector (Turtle)">
&lt;http://example.org/anno19&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSource &lt;http://example.org/target1&gt; ;
    oa:hasSelector &lt;http://example.org/selector1&gt; .

&lt;http://example.org/selector1&gt; a oa:TextQuoteSelector ;
    oa:exact "efg" ;
    oa:prefix "abcd" ;
    oa:suffix "hij" .</pre>
</div>
</div>
</section>

<section>
<h3>Data Position Selector</h3>

<p>
Very similar to the Text Position Selector, the Data Position Selector uses the same properties but works at the byte in bitstream level rather than the character in text level.  This is useful, for example, for annotating segments of disk images for forensic purposes, or the part of a stream of data recorded from a sensor.
</p>

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>

<tr><td>oa:DataPositionSelector</td><td>Class</td><td> </td><td>[subClass of oa:Selector] The class for a Selector which describes a range of data based on its start and end positions within the byte stream.</td></tr>
<tr><td>oa:start</td><td>Property</td><td>start</td><td>The starting position of the segment of data. The first byte is character position 0.
<br/>Each DataPositionSelector MUST have exactly 1 oa:start property.</td></tr>
<tr><td>oa:end</td><td>Property</td><td>end</td><td>The end position of the segment of data. The last character is not included within the segment.
<br/>Each DataPositionSelector MUST have exactly 1 oa:end property.</td></tr>

</table>


<h4>Serialization</h4>

<figure>
		<img src="images/dataposition.png" width="600"/>
		<figcaption>Data Position Selector</figcaption>
	</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Data Position Selector (JSON-LD)">
{
  "@id": "http://example.org/anno20",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "selector": {
      "@id": "http://example.org/selector1",
      "@type": "oa:DataPositionSelector",
      "start": 4096,
      "end": 4104
    }
  }
}
</pre>
	</div><div class="tab_turtle"><pre class="example highlight" title="Data Position Selector (Turtle)">
&lt;http://example.org/anno20&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .


&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSource &lt;http://example.org/target1&gt; ;
    oa:hasSelector &lt;http://example.org/selector1&gt; .

&lt;http://example.org/selector1&gt; a oa:DataPositionSelector ;
    oa:start 4096 ;
    oa:end 4104 .</pre>
</div>
</div>
</section>
</section>

<section>
<h3>Area Selectors</h3>

<p>Although simple rectangular areas can be described using media fragment selectors, it is often
	useful to be able to describe circles, ellipses and arbitrary polygons.
</p>

<section>
<h3>SVG Selector</h3>

<p>An SvgSelector defines an area through the use of
the <a href="http://www.w3.org/TR/SVG/">Scalable Vector Graphics</a>
standard.  The content of the Selector is a valid SVG document.
It is RECOMMENDED that the document contain only a single shape element and that element SHOULD be one
of: <code>path, rect, circle, ellipse, polyline,
polygon</code> or <code>g</code>.  The g element SHOULD
be used only to construct a multi-element group, for example to define a
donut shape requiring an outer circle and a clipped inner circle.</p>

<p>The dimensions of both the shape and the SVG canvas MUST be relative to the dimensions of
the Source resource.  For example, given an image which is 600 pixels
by 400 pixels, and the desired section is a circle of 100 pixel radius
at the center of the image, then the SVG element would be:
<code>&lt;circle cx="300" cy="200" r="100"/&gt;</code></p>

<p>It is NOT RECOMMENDED to include style information within the SVG
element, nor Javascript, animation, text or other non-shape oriented
information. Clients SHOULD ignore such information if present.</p>

<p>The SVG document MAY be a separate resource, or embedded within the annotation's serialization.
In the first example below it is a separate resource and if the URI <code>http://example.org/selector1</code> was dereferenced, it would return an SVG document. In the second example, the content of the SVG resource is embedded using the same pattern as embedding a Body.
</p>

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:SvgSelector</td><td>Class</td><td> </td><td>[subClass of oa:Selector] The class for a Selector which defines a shape using the SVG standard.</td></tr>
</table>

<h4>Serialization</h4>

<figure>
		<img src="images/svgSelector.png" width="600"/>
		<figcaption>SVG Selector</figcaption>
</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="SVG Selector (JSON-LD)">
{
  "@id": "http://example.org/anno21",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "selector": {
      "@id": "http://example.org/selector1",
      "@type": "oa:SvgSelector"
    }
  }
}
</pre>
  </div><div class="tab_turtle"><pre class="example highlight" title="SVG Selector (Turtle)">
&lt;http://example.org/anno21&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSelector &lt;http://example.org/selector1&gt; ;
    oa:hasSource &lt;http://example.org/target1&gt; .

&lt;http://example.org/selector1&gt; a oa:SvgSelector .</pre>
  </div>
</div>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="SVG Selector, embedded (JSON-LD)">
{
  "@id": "http://example.org/anno22",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "selector": {
      "@type": ["oa:SvgSelector", "oa:EmbeddedContent"],
      "value": "&lt;svg:svg&gt; ... &lt;/svg:svg&gt;",
      "format": "image/svg+xml"
    }
  }
}
</pre>
  </div><div class="tab_turtle"><pre class="example highlight" title="SVG Selector, embedded (Turtle)">
&lt;http://example.org/anno22&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSelector &lt;http://example.org/selector1&gt; ;
    oa:hasSource &lt;http://example.org/target1&gt; .

&lt;http://example.org/selector1&gt; a oa:SvgSelector, oa:EmbeddedContent ;
    dc:format "image/svg+xml" ;
    rdf:value "&lt;svg:svg&gt; ... &lt;/svg:svg&gt;" .
</pre>
  </div>
</div>
</section>
</section>
</section>

<section>
<h3>States</h3>

<p>The State Specifier describes the intended state of a Body or Target resource as
 applicable to the particular Annotation, and thus provides
 the information needed to retrieve the correct representation of that resource.
 As web resources change over time, it might include a link to an
 archived copy of the Source resource, or the timestamp at which the
 Annotation applies to assist in discovering appropriate archived
 representations.  Resources may have
 multiple representations in different formats, and the Annotation may only apply to one of
 them, and thus the State could describe how to retrieve the
 representation in the correct format directly from the Source.  Other facets include fixity or checksum
 information to determine whether the retrieved representation is the same as the annotated one,
 whether the resource requires authentication to retrieve, the
 user-agent string to send to the hosting web server, and so forth.</p>


<p>Supplied States MUST be processed before processing any supplied Selector or Style information.</p>

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:State</td><td>Class</td><td> </td><td>A
resource which describes how to retrieve a representation
of the Source resource that is appropriate for the Annotation.  This class is not used directly in Annotations, only its subclasses are.</td></tr>
<tr><td>oa:hasState</td><td>Relationship</td><td>state</td><td>The relationship
between a oa:SpecificResource and an oa:State resource.  
<br/>There MAY be 0 or 1 oa:hasState relationship for each
SpecificResource.</td></tr>
</table>

<h4>Serialization</h4>

<figure>
		<img src="images/state.png" width="600"/>
		<figcaption>State</figcaption>
</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="State (JSON-LD)">
{
  "@id": "http://example.org/anno23",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "state": {
      "@id": "http://example.org/state1"
    }
  }
}
</pre>
	</div><div class="tab_turtle"><pre class="example highlight" title="State (Turtle)">
&lt;http://example.org/anno23&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasState &lt;http://example.org/state1&gt; ;
    oa:hasSource &lt;http://example.org/target1&gt; .</pre>
</div>
</div>

<section>
<h3>Time State</h3>

<p>
A Time State resource records the time at which the resource is appropriate for the Annotation, typically the time that the Annotation was created.  Consuming applications can then use that information to discover an appropriate representation of the resource from that time, for example using the Memento [[rfc7089]] protocol.  The State may also have a link directly to an appropriate cached or archived copy of the resource's representation from that time.</p>

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:TimeState</td><td>Class</td><td> </td><td>A
resource which describes how to retrieve a representation
of the Source resource that is temporally appropriate for the Annotation.</td></tr>

<tr><td>oa:when</td><td>Property</td><td>when</td><td>The timestamp at which the
Source resource should be interpreted for the Annotation.  The timestamp MUST be expressed in the xsd:dateTime format, and SHOULD have a timezone specified.
<br/>There MAY be 0 or more oa:when properties per TimeState, but there MUST be at least one of oa:when and oa:cachedSource. If there is more than 1, each gives an alternative timestamp at which the Source may be interpreted.</td></tr>
<tr><td>oa:cachedSource</td><td>Relationship</td><td>cached</td><td>A link to a copy of the Source resource's
representation, appropriate for the Annotation.
<br/>There MAY be 0 or more oa:cachedSource relationships per TimeState, but there MUST be at least one of oa:cachedSource and oa:when. If there is more than 1, each gives an alternative copy of the representation.
</td></tr>

</table>

<h4>Serialization</h4>

<figure>
		<img src="images/timestate.png" width="600"/>
		<figcaption>Time State</figcaption>
	</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Time State (JSON-LD)">
{
  "@id": "http://example.org/anno24",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "state": {
      "@id": "http://example.org/state1",
      "@type": "oa:TimeState",
      "cached": "http://archive.example.org/copy1",
      "when": "2012-07-20T13:30:00Z"
    }
  }
}
</pre>

	</div><div class="tab_turtle"><pre class="example highlight" title="Time State (Turtle)">
&lt;http://example.org/anno24&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasState &lt;http://example.org/state1&gt; ;
    oa:hasSource &lt;http://example.org/target1&gt; .

&lt;http://example.org/state1&gt; a oa:TimeState ;
    oa:cachedSource &lt;http://example.org/copy1&gt; ;
    oa:when "2012-07-20T13:30:00Z" .</pre>
</div>
</div>
</section>

<section>
<h3>Request Header State</h3>

<p>As there are potentially many representations that can be delivered from a resource with a single URI, and a
Specific Resource may only apply to one of them, it is important to be able to record the HTTP Request headers
that need to be sent to retrieve the correct representation.  The HttpRequestState resource maintains a copy
of the headers to be replayed when obtaining the representation. </p>

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:HttpRequestState</td><td>Class</td><td> </td><td>A
resource which describes how to retrieve an appropriate representation
of the Source resource for the Annotation, based on the HTTP Request headers to send to the web server.</td></tr>

<tr><td>rdf:value</td><td>Property</td><td>value</td><td>The HTTP request headers as a single, complete string, exactly as they would appear in an HTTP request.
<br/>There MUST be exactly 1 rdf:value property per HTTPRequestState.</td></tr>

</table>

<h4>Serialization</h4>

<figure>
		<img src="images/httpstate.png" width="600"/>
		<figcaption>HTTP Request State</figcaption>
	</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="HTTP Request State (JSON-LD)">
{
  "@id": "http://example.org/anno25",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "state": {
      "@id": "http://example.org/state1",
      "@type": "oa:HttpRequestState",
      "value": "Accept: text/plain"
    }
  }
}
</pre>
	</div><div class="tab_turtle"><pre class="example highlight" title="HTTP Request State (Turtle)">
&lt;http://example.org/anno25&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasState &lt;http://example.org/state1&gt; ;
    oa:hasSource &lt;http://example.org/target1&gt; .

&lt;http://example.org/state1&gt; a oa:HttpRequestState ;
    rdf:value "Accept: text/plain" .</pre>
</div>
</div>
</section>
</section>

<section>
<h3>Styles</h3>

<p>The interpretation of a particular Annotation may rely on rendering
style being consistent.  For example, if the Body
refers to the part of an image highlighted in yellow, as compared to the red highlighted part,
then these colors need to be maintained.  Equally, annotators
may convey information via the styling alone, perhaps only to
themselves. In order for this implicit information not to be lost between systems,
the styling needs to be consistently represented.  For example, an annotator may
know that green highlights are intended to be referred back to, but
that they disagree with sections highlighted in red.</p>

<p>The Style resource is associated with the Annotation itself, and the content of the resource provides the rendering hints about the Annotation's constituent resources.  Styles may also require additional information to be added to the Annotation graph for processing.  If there are multiple Style resources that must be associated with the Annotation, then the use of the Multiplicity Constructs is RECOMMENDED.</p>

<p>
Consuming applications MAY process these instructions, and publishing systems MUST NOT assume that they will be processed; they are only provided as hints rather than requirements. Processing Style information is not REQUIRED, and applications MAY continue to render the selection or resource regardless.
</p>  


<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:Style</td><td>Class</td><td> </td><td>A
resource which describes the style in which the selection or resource
should be rendered.  This class is not used directly in Annotations, only its subclasses are.</td></tr>
<tr><td>oa:styledBy</td><td>Relationship</td><td>stylesheet</td><td>The relationship between an Annotation and the oa:Style.
<br/>There MAY be 0 or 1 styledBy relationships for each Annotation.</td></tr>
</table>

<h4>Serialization</h4>

<figure>
		<img src="images/style.png" width="600"/>
		<figcaption>Style</figcaption>
	</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Style (JSON-LD)">
{
  "@id": "http://example.org/anno26",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": "http://example.org/sptarget1",
  "stylesheet": "http://example.org/style1"
}
</pre>
	</div><div class="tab_turtle"><pre class="example highlight" title="Style (Turtle)">  
&lt;http://example.org/anno26&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/target1&gt; ;
    oa:styledBy &lt;http://example.org/style1&gt; .</pre>
</div>
</div>
<section>
<h3>CSS Style</h3>

<p>The standard style language for the web is the W3C's Cascading Style Sheets [[CSS2]].  It promotes the separation of presentation layer and the content layer for HTML and XML structured documents.</p>

<p>CSS is used in the Web Annotation model via the oa:CssStyle subClass of oa:Style.  It uses the common approach of class-selectors and the class label is attached to a Specific Resource using the <code>oa:styleClass</code> property.  This class label must only be attached to Specific Resources, as it is not universally true that the Source resource has that class.</p>

<p>
Each block in the CSS resource has the format:
<pre class="highlight" title="">  .classname { css-value } </pre>
And thus to associate the color red with a Specific Resource that has a class "red", one would use in the CSS:
<pre class="highlight" title="">  .red { color: red } </pre>
And the Specific Resource (spres1) to be styled would have the property:
<pre class="highlight" title=""> &lt;spres1&gt; oa:styleClass "red" .</pre> 
</p>

<p>When rendering a Specific Resource, consuming applications SHOULD check to see if it has a <code>oa:styleClass</code> property.  If it does, then the application SHOULD attempt to locate the appropriate selector in the CSS document, and then apply the css-value block.  If a Specific Resource has a styleClass, but no such class is described by a <code>oa:CssStyle</code> attached to the Annotation, then the <code>oa:styleClass</code> MUST be silently ignored.
 </p>

<p>The CSS resource MAY have its own dereferenceable URI that provides the information, or it may be embedded within the Annotation.  
In the first example below, the CSS resource must be retrieved from its URI <code>http://example.org/style1</code>, whereas in the second example it is embedded within the annotation.</p> 

<p>It bears repeating that the exact rendering of the Specific Body or Target is, ultimately, up to the user's client.
It is understood that not all consuming clients will include CSS parsers, and thus be unable to process the styling information.
The use of this Style does not preclude non-HTML based clients, although implementation may be more difficult even if the information can be parsed. It must be expected that such clients will not process all, or even any, of the styling hints provided in the CSS Style resource.
</p>


<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:CssStyle</td><td>Class</td><td> </td><td>[subClass of oa:Style] A resource which describes styles for resources participating in
the Annotation using CSS.</td></tr>
<tr><td>oa:styleClass</td><td>Property</td><td>styleClass</td><td>The string name of the class used in the CSS description that should be applied to the Specific Resource.<br/>
There MAY be 0 or more styleClass properties on a Specific Resource.</td></tr>
</table>

<h4>Serialization</h4>

<figure>
		<img src="images/cssstyle.png" width="600"/>
		<figcaption>CSS Style</figcaption>
	</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="CSS Style (JSON-LD)">
{
  "@id": "http://example.org/anno27",
  "@type": "oa:Annotation",
  "stylesheet": {
    "@id": "http://example.org/style1",
    "@type": "oa:CssStyle"
  },
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "styleClass": "red"
  }
}
</pre>
  </div><div class="tab_turtle"><pre class="example highlight" title="CSS Style (Turtle)">
&lt;http://example.org/anno27&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; ;
    oa:styledBy &lt;http://example.org/style1&gt; .

&lt;http://example.org/style1&gt; a oa:CssStyle .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSource &lt;http://example.org/target1&gt; ;
    oa:styleClass "red" .</pre>
  </div>
</div>


<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="CSS Style, embedded (JSON-LD)">
{
  "@id": "http://example.org/anno28",
  "@type": "oa:Annotation",
  "stylesheet": {
    "@id": "http://example.org/style1",
    "@type": ["oa:CssStyle", "oa:EmbeddedContent"],
    "value": ".red { color: red }",
    "format": "text/css"
  },
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "styleClass": "red"
  }
}
</pre>
  </div><div class="tab_turtle"><pre class="example highlight" title="CSS Style, embedded (Turtle)">
&lt;http://example.org/anno28&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; ;
    oa:styledBy &lt;http://example.org/style1&gt; .

&lt;http://example.org/style1&gt; a oa:CssStyle, oa:EmbeddedContent ;
    dc:format "text/css" ;
    rdf:value ".red { color: red }" .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSource &lt;http://example.org/target1&gt; ;
    oa:styleClass "red" .</pre>
  </div>
</div>

</section>
</section>

<section>
	<h3>Scope of a Resource</h3>
	<p>It is sometimes important for an Annotation to capture the context in which it was made, in terms of the resources that the annotator was viewing or using at the time.  For example, it may be important to know that an annotation on a particular image was made in the context of one web page rather than another.  This does not imply an assertion that the annotation is only valid for the image in the context of that page, it just records that the page was being viewed.  This might also be useful for annotating a resource in the context of a particular collection.
	</p>

	<p>As such scoping information is only true for a particular Annotation, it must be attached to a Specific Resource, 
	and not to the Source directly.  This is true even if there is neither a Selector nor a State, as other Annotations that refer to the Source would otherwise incorrectly inherit this assertion.  The object of the <code>oa:hasScope</code> relationship is the resource that somehow scopes or provides the context 
	for the resource in this Annotation.  
	For example, in the diagram below, the resource named "scope1" could be the webpage "http://www.example.com/index.html", 
	and the Source resource "target1" could be an image "http://www.example.com/images/logo.jpg", where the 
	Body is a comment that it should not be in that page.</p>  

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:hasScope</td><td>Relationship</td><td>scope</td><td>The relationship between a Specific Resource and the resource that provides the scope or context for it in this Annotation.<br/>
There MAY be 0 or more hasScope relationships for each Specific Resource.
</td></tr>
</table>

<h4>Serialization</h4>

<figure>
		<img src="images/scope.png" width="600"/>
		<figcaption>Scope</figcaption>
	</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Scope (JSON-LD)">
{
  "@id": "http://example.org/anno29",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "scope": "http://example.org/scope1"
  }
}
</pre>
	</div><div class="tab_turtle"><pre class="example highlight" title="Scope (Turtle)">
&lt;http://example.org/anno29&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasScope &lt;http://example.org/scope1&gt; ;
    oa:hasSource &lt;http://example.org/target1&gt; .</pre>
</div>
</div>
</section>
</section>


<section>
<h2>Multiplicity</h2>



<section>
<h3>Annotations without a Body</h3>

<p>
A special case exists when the Annotation does not have a Body at all.
Examples of this sort of situation include bookmarking a particular resource, marking a point within a
resource, and highlighting a section of a resource without making a
comment about why it is being highlighted.  A Body may be added to these
Annotations later, perhaps explaining the importance of the resource
and thus why it was bookmarked.
</p>

<h4>Vocabulary</h4>

<p>No additional vocabulary items are introduced in this section.</p>

<h4>Serialization</h4>

<figure>
    <img src="images/nobody.png" width="600"/>
    <figcaption>Annotations without a Body</figcaption>
</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Annotations without a Body (JSON-LD)">
{
  "@id": "http://example.org/anno10",
  "@type": "oa:Annotation",
  "target": "http://example.org/target1"
}
</pre>
</div>
<div class="tab_turtle">
  <pre class="example highlight" title="Annotations without a Body (Turtle)">
&lt;http://example.org/anno10&gt; a oa:Annotation ;
    oa:hasTarget &lt;http://example.org/target1&gt; .</pre>
</div>
</div>
</section>

<section>
<h3>Multiple Bodies or Targets</h3>

<p>
It is also possible for an Annotation to have multiple Bodies and/or Targets.
Each Body is considered to be equally related to each Target individually, rather than the complete set of Targets.
This construction may be used so long as dropping any of the Bodies or Targets would not invalidate the Annotation's meaning.  Thus in the figure below all of the following are individually true:
<ul>
<li>body1 is about target1</li>
<li>body1 is about target2</li>
<li>body2 is about target1</li>
<li>body2 is about target2</li>
</ul> 
</p>

<p>
Example use cases include having multiple tags about a single image, or a single comment that applies to several web pages.  
</p>

<p>
For situations when the Annotation needs different semantics for multiple Bodies or Targets, 
such as when a comment is comparing or contrasting the Targets, and hence not about each equally and individually, it is necessary to use further constructions described in the <a href="#multiplicity">Multiplicity</a> section.  Alternatively, multiple Annotations may be created to capture the different semantics.
</p>

<h4>Vocabulary</h4>

<p>No additional vocabulary items are introduced in this section.</p>

<h4>Serialization</h4>

<figure>
    <img src="images/multiple_bodyTarget.png" width="600"/>
    <figcaption>Multiple Bodies or Targets</figcaption>
</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Multiple Bodies or Targets (JSON-LD)">
{
  "@id": "http://example.org/anno11",
  "@type": "oa:Annotation",
  "body": [
    {
      "@id": "http://example.org/body1"
    },
    {
      "@type": "oa:Tag", 
      "value": "paris"
    }
  ],
  "target": [
    {
      "@id": "http://example.org/target1",
      "@type": "dctypes:Image"
    },
    {
      "@id": "http://example.org/target2",
      "@type": "dctypes:Sound"
    }
  ]
}
</pre>
</div>
<div class="tab_turtle">
  <pre class="example highlight" title="Multiple Bodies or Targets (Turtle)">
&lt;http://example.org/anno11&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasBody [ a oa:Tag ; rdf:value "paris" ] ;
    oa:hasTarget &lt;http://example.org/target1&gt; ;
    oa:hasTarget &lt;http://example.org/target2&gt; .

&lt;http://example.org/target1&gt; a dctypes:Image .
&lt;http://example.org/target2&gt; a dctypes:Sound .
  </pre>
</div>
</div>
</section>

<section>
  <h3>Multiplicity Constructs</h3>

	<p>There are many use cases where an Annotation comprises multiple Bodies, Targets or both. 
	The semantics for multiple Bodies and Targets associated directly with the Annotation are 
	that each resource is related to the others individually, however this is not always the case.  It is useful to 
	associate the Annotation with one resource from a group of alternatives, such as a comment that is 
	available in three different languages and for the user's client to display only the most appropriate one.  
	Or to annotate a set of resources where all of the resources are equally important, as is the case when comparing resources with each other.  In this case, the comment does not apply individually to each resource, it applies to all of them together.  
	Finally, it is useful to consider ordering that set of resources, particularly for grouping Selectors that must be processed in the correct sequence to extract the intended segment. 
	</p>

<p>The Web Annotation model includes three multiplicity constructs to fulfil these requirements: 
<code>oa:Choice</code>, <code>oa:Composite</code> and <code>oa:List</code> respectively.  These nodes are used as the object of the <code>oa:hasBody</code>, <code>oa:hasTarget</code>, <code>oa:hasSelector</code>, <code>oa:hasState</code>, <code>oa:styledBy</code> and <code>oa:hasScope</code> relationships. The resources that make up the multiplicity construct may either any type of resource, including further such multiplicity constructs.  For example, a <code>oa:Composite</code> may have two items, one of which is a resource and the other an <code>oa:Choice</code> between two further resources. </p> 

<p>Multiplicity Constructs SHOULD have a globally unique URI to identify them, such as a UUID URN.  The URI MAY be resolvable, and if it is then the description of the construct MUST be returned when it is dereferenced.  This identity recommendation is not typical for the equivalent classes of <code>rdf:Alt</code>, <code>rdf:Bag</code> and <code>rdf:List</code>, and further processing and modeling requirements based on those classes could not be asserted. The Constructs MAY not be given a URI if it is not considered important that they be referenced directly by other Annotations or systems.  </p>

<p>The option of having a simple string literal for the body is NOT possible when using Multiplicity constructs, and the embedded textual body resource pattern MUST be used.</p>

<p><b>Note Well:</b> All of the examples below display only a single construction at a single level, 
however the same patterns follow for all of the relationships and structures composed of more than one grouping resource.</p>


<section>
	<h3>Choice</h3>

	<p>A Choice has an ordered list of resources from which an application that is consuming the Annotation should select only one to process or display.  The order is given from the most preferable to least preferable.  For Specifiers, the Client should choose one of the constituent resources to use, as they are somehow comparable or 
	equivalent.  Clients MAY use any algorithm to determine which resource to choose, and SHOULD make use of the information present in the Annotation to do so automatically, or MAY present a list and require the user to make the decision.   
	</p>

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:Choice</td><td>Class</td><td> </td><td>A multiplicity construct that conveys to a consuming application that it should select one of the constituent resources to display to the user, and not render all of them.  This construct is equivalent to the rdf:Alt container class.</td></tr>
<tr><td>oa:members</td><td>Relationship</td><td>members</td><td>An rdf:List giving the ordered list of resources to choose from.</td></tr>
</table>

<h4>Serialization</h4>

<figure>
		<img src="images/choice.png" width="600"/>
		<figcaption>Choice</figcaption>
	</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example hightlight" title="Choice (JSON-LD)">
{
  "@id": "http://example.org/anno30",
  "@type": "oa:Annotation",
  "body": {
    "@type": "oa:Choice",
    "members": [
      "http://example.org/body1", 
      "http://example.org/body2"
    ]
  },
  "target": "http://example.org/target1"
}
</pre>	
	</div><div class="tab_turtle"><pre class="example highlight" title="Choice (Turtle)">
&lt;http://example.org/anno30&gt; a oa:Annotation ;
    oa:hasTarget &lt;http://example.org/target1&gt; ;
    oa:hasBody [
        a oa:Choice ;
        oa:members (&lt;http://example.org/body1&gt; &lt;http://example.org/body2&gt;)
    ] .
</pre>
</div>
</div>
</section>

<section>
	<h3>Composite</h3>

	<p>A Composite is a set of resources that are all required for an Annotation to be correctly interpreted.  
	Examples include an Annotation that compares the differences between two resources, or an Annotation where the 
	Body consists of both a human readable review and a necessary structured data file.  These are different 
	from individual Bodies and Targets, as each would individually annotate or be annotated.  It is also important 
	to be able to combine Specifiers, such as using two Selectors where one gives the time range in a video, 
	and a second gives a non-rectangular area to plot over that time range. 
	</p>

	<p>The data model defines a class <code>oa:Composite</code> and the <code>oa:item</code> relationship to each of the resources in the set.  Each Composite MUST have two or more constituent resources, and there is no order given between them.</p>

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:Composite</td><td>Class</td><td> </td><td>[subClass of rdf:Bag] A multiplicity construct that conveys to a consuming application that all of the constituent resources are required for the Annotation to be correctly interpreted.  This construct is equivalent to the container class <code>rdf:Bag</code>.</td></tr>
<tr><td>oa:item</td><td>Relationship</td><td>item</td><td>[subProperty of rdfs:member] The relationship between a Composite and its constituent resources.<br/>
A Composite MUST have 1 or more items.
</td></tr>
</table>

<h4>Serialization</h4>

<figure>
		<img src="images/composite.png" width="600"/>
		<figcaption>Composite</figcaption>
	</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Composite (JSON-LD)">
{
  "@id": "http://example.org/anno31",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@type": "oa:Composite",
    "item": [
      "http://example.org/target1",
      "http://example.org/target2"
    ]
  }
}
</pre>
	</div><div class="tab_turtle"><pre class="example highlight" title="Composite (Turtle)">
&lt;http://example.org/anno31&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget [
        a oa:Composite ;
        oa:item &lt;http://example.org/target1&gt; ;
        oa:item &lt;http://example.org/target2&gt;
    ] .</pre>
</div>
</div>
</section>

<section>
	<h3>List</h3>

	<p>A List is a multiplicity construct that provides an order to its constituent resources in the context of the Annotation.  
	Examples of use are particularly strong for Selectors, where a processing application must first make one selection then another, 
	and if it did it in the other order, the result would be incorrect.  This includes situations like first referencing a 
	particular page in a book that does not have its own URI, and then doing a text selection within that page.  Another use case would be to assign order to a set of Styles to give precedence to the definition of classes within them.</p>  
	

<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:List</td><td>Class</td><td> </td><td>[subClass of oa:Composite] A multiplicity construct that conveys to a consuming application that all of the constituent resources are required for the Annotation to be correctly interpreted, and in a particular order.</td></tr>

</table>

<h4>Serialization</h4>

<figure>
		<img src="images/list.png" width="600"/>
		<figcaption>List</figcaption>
	</figure>

<div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="List (JSON-LD)">
{
  "@id": "http://example.org/anno32",
  "@type": "oa:Annotation",
  "body": {"@id": "http://example.org/body1"},
  "target": {
    "@id": "http://example.org/sptarget1",
    "@type": "oa:SpecificResource",
    "source": "http://example.org/target1",
    "selector": {
      "@type": "oa:List",
      "members": [
        "http://example.org/selector1",
        "http://example.org/selector2"
      ]
    }
  }
}
</pre>
	</div><div class="tab_turtle"><pre class="example highlight" title="List (Turtle)">
&lt;http://example.org/anno32&gt; a oa:Annotation ;
    oa:hasBody &lt;http://example.org/body1&gt; ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSource &lt;http://example.org/target1&gt; ;
    oa:hasSelector [
        a oa:List ;
        oa:members ( &lt;http://example.org/selector1&gt; &lt;http://example.org/selector2&gt; )
    ] .
</pre>
</div>
</div>
</section>
</section>
</section>

<!--

XXX: This needs to be explored in terms of @graph instead of Trig (azaroth42)


<section>
    <h3>Embedding RDF Graphs</h3>

<p>One particular case of embedding resources within an Annotation is embedding statements expressed as RDF graphs.  
The triples that make up these resources MUST NOT be simply put into the Annotation graph, as the triples must 
remain distinguishable as to authorship and provenance.  If it were done otherwise, the metadata and identifier of the 
Body or Target graph would be lost and subsumed in the Annotation's graph.</p> 

<p>The simplest method is to publish the graph as any other resource with a dereferenceable HTTP URI, 
and refer to this URI in the Annotation.  This method is RECOMMENDED.</p>

<p>If a single document is required and thus the graph must be embedded within the Annotation, then there are two possibilities:

<ol>
    <li>A serialization of the graph MAY be embedded using the Content in RDF specification, as described in the previous section.  The resource MUST have appropriate metadata to allow consuming applications to determine that the representation is a graph, such as the media type provided in <code>dc:format</code> and the class given of <code>trig:Graph</code>
    <li>Alternatively, if the Annotation is requested in such a way as to be clear that the client can process a named graph, then the Annotation MAY be expressed using a named graph serialization format, such as Trig or Trix.  The request might use HTTP Content Negotiation, or the server may provide a different URI for the Trig/Trix serialization.  This restriction is to ensure interoperability with clients that can not parse the serialization, and hence would be unable to process the Annotation at all.  This method is presented below in Figure 5.3.
</ol>   


<h4>Vocabulary</h4>

<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>trig:Graph</td><td>Class</td><td> </td><td>The class of Named Graphs</td></tr>
</table>


<figure>
        <img src="images/namedgraph.png" width="600"/>
        <figcaption>Named Graph Serialization</figcaption>      
    </figure>

    </div><div class="tab_turtle"><pre class="example highlight" title="">  {
    &lt;anno1&gt; a oa:Annotation ;
      oa:hasBody :graph1 ;
      oa:hasTarget &lt;target1&gt; .

    :graph1 a trg:Graph .
  }
    
  :graph1 { 
    &lt;target1&gt; relationship &lt;thing1&gt; . 
  }</pre>

</section>

-->

<!--

XXX Out of scope? Seems very disjoint from the rest of the document (azaroth42)

<section>
	<h3>Equivalence of Resources</h3>

<p>Although it is not a challenge unique to Annotations, deduplicating resources that have been syndicated 
between systems is greatly reduced by expressing the equivalence between multiple copies, or very close derivatives.  
A system that could not discover duplicate Annotations would navely present all of them, resulting 
in a very poor experience.  Systems that generate statistics, reputation models, spam filtering for annotations 
and similar would also have very poor results without this capability.  Given these requirements, the Web Annotation model 
includes a relationship to assert that while two resources are not absolutely identical, they are equivalent and hence 
should not be both maintained and processed separately.</p>

<p>If a system retrieves an Annotation and republishes it at a different HTTP
URI, then it SHOULD express the <code>oa:equivalentTo</code> relationship between the
original Annotation and the republished one.  The system then SHOULD
update the <code>oa:serializedAt</code> and <code>oa:serializedBy</code> properties, 
as the graph has changed by adding the <code>oa:equivalentTo</code> relationship. 
</p>

<p>Embedded resources SHOULD be treated in the same way when republished with their own HTTP URIs.  If a system publishes an embedded resource at a new HTTP URI, then it SHOULD express the <code>oa:equivalentTo</code> relationship between the resource's URN and the new URI from which it is available.  If the embedded resource is conveyed as a blank node, then the Skolemization technique described in <a href="http://www.w3.org/TR/rdf11-concepts/#section-skolemization">RDF Concepts 1.1</a> SHOULD be used.  The system MAY also remove the embedded resource from the graph and reference only the dereferenceable URI, at its discretion.  When this occurs it is possible for the Annotation's graph to change significantly from the initial version to its republished state, while still remaining equivalent.  
</p>

<h4>Vocabulary</h4>


<table class="model">
<tr><th>Item</th><th>Type</th><th>JSON-LD Key</th><th>Description</th></tr>
<tr><td>oa:equivalentTo</td><td>Relationship</td><td> </td><td>[subProperty of prov:alternateOf] The subject and
object resources of the oa:equivalentTo relationship represent the same
resource, but potentially have different metadata such as oa:serializedBy,
oa:serializedAt and serialization format.  oa:equivalentTo is a symmetrical and transitive relationship;
if A oa:equivalentTo B, then it is also true that B oa:equivalent A; and that if B oa:equivalentTo C, then it is also true that A oa:equivalentTo C.
<br/>The Annotation MAY include 0 or
more instances of the oa:equivalentTo relationship between copies of the
Annotation or other resources, and SHOULD include as many as are available.</td></tr>
</table>


<figure>
		<img src="images/equivalence.png" width="600"/>
		<figcaption>Equivalence of Resources</figcaption>
</figure>
	</div><div class="tab_turtle"><pre class="example highlight" title=""> &lt;anno1&gt; a oa:Annotation ;
    oa:hasBody &lt;body1&gt; ;
    oa:hasTarget &lt;target1&gt; ;
    oa:serializedAt "2012-12-12T12:12:12Z" ;
    oa:equivalentTo &lt;anno2&gt; .
    
  &lt;anno2&gt; oa:serializedAt "2013-01-28T20:00:00Z" .</pre>


</section>

-->


<section class="appendix">

<h2>Namespaces</h2>

<p>The Web Annotation Data Model defines a namespace for its classes and properties, and uses several others as listed below.
The namespace URI will always remain the same, even if the data model changes.</p>

<p>The following namespaces are used in this specification:</p>

<table class="model">
<tr><th>Prefix</th><th>Namespace</th><th>Description</th></tr>
<tr><td>oa</td><td>http://www.w3.org/ns/oa#</td> <td>The Web Annotation Data Model</td></tr>
<tr><td>dc</td><td>http://purl.org/dc/elements/1.1/</td><td>[[DC11]]</td></tr>
<tr><td>dcterms</td><td>http://purl.org/dc/terms/</td><td>[[DC-TERMS]]</td></tr>
<tr><td>dctypes</td><td>http://purl.org/dc/dcmitype/</td><td>[[DC-TERMS]]</td></tr>
<tr><td>foaf</td><td>http://xmlns.com/foaf/0.1/</td><td>[[FOAF]]</td></tr>
<tr><td>prov</td><td>http://www.w3.org/ns/prov#</td><td>[[prov-o]]</td></tr>
<tr><td>rdf</td><td>http://www.w3.org/1999/02/22-rdf-syntax-ns#</td><td>[[rdf-schema]]</td></tr>
<tr><td>rdfs</td><td>http://www.w3.org/2000/01/rdf-schema#</td><td>[[rdf-schema]]</td></tr>
<tr><td>skos</td><td>http://www.w3.org/2004/02/skos/core#</td><td>[[skos-reference]]</td></tr>
</table>
</section>


<section>
  <h3>JSON-LD Context</h3>

<p>
The RECOMMENDED serialization format is [[JSON-LD]].  This is to enable web-browser based implementations to easily consume Annotations using tools and methods familiar to developers.
  The Context presented below is RECOMMENDED to ensure consistency between implementations, and can be 
referenced as <code style="color: red">http://www.w3.org/xxx/yyy</code>.   
</p>

<p>
The following is a Context description that is RECOMMENDED for use in systems that implement the Web Annotation data model. Its use results in serializations in the style of the examples in this document.
</p>

<pre class="highlight">
{
 "@context": {
    "oa" :     "http://www.w3.org/ns/oa#",
    "dc" :     "http://purl.org/dc/elements/1.1/",
    "dcterms": "http://purl.org/dc/terms/",
    "dctypes": "http://purl.org/dc/dcmitype/",
    "foaf" :   "http://xmlns.com/foaf/0.1/",
    "rdf" :    "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfs" :   "http://www.w3.org/2000/01/rdf-schema#",
    "skos" :   "http://www.w3.org/2004/02/skos/core#",

    "body" :         {"@id" : "oa:hasBody"},
    "target" :       {"@type":"@id", "@id" : "oa:hasTarget"},
    "source" :       {"@type":"@id", "@id" : "oa:hasSource"},
    "selector" :     {"@type":"@id", "@id" : "oa:hasSelector"},
    "state" :        {"@type":"@id", "@id" : "oa:hasState"},
    "scope" :        {"@type":"@id", "@id" : "oa:hasScope"},
    "annotatedBy" :  {"@type":"@id", "@id" : "oa:annotatedBy"},
    "serializedBy" : {"@type":"@id", "@id" : "oa:serializedBy"},
    "motivation" :   {"@type":"@id", "@id" : "oa:motivatedBy"},
    "stylesheet" :   {"@type":"@id", "@id" : "oa:styledBy"},
    "cached" :       {"@type":"@id", "@id" : "oa:cachedSource"},
    "conformsTo" :   {"@type":"@id", "@id" : "dcterms:conformsTo"},
    "members" :      {"@type":"@id", "@id" : "oa:membershipList", "@container": "@list"},
    "item" :         {"@type":"@id", "@id" : "oa:item"},
    "related" :      {"@type":"@id", "@id" : "skos:related"},

    "format" :       "dc:format",
    "language":      "dc:language",
    "annotatedAt" :  "oa:annotatedAt",
    "serializedAt" : "oa:serializedAt",
    "when" :         "oa:when",
    "value" :        "rdf:value",
    "start" :        "oa:start",
    "end" :          "oa:end",
    "exact" :        "oa:exact",
    "prefix" :       "oa:prefix",
    "suffix" :       "oa:suffix",
    "label" :        "rdfs:label",
    "name" :         "foaf:name",
    "mbox" :         "foaf:mbox",
    "nick" :         "foaf:nick",
    "styleClass" :   "oa:styleClass"
  }
}
</pre>
</section>

<section>
  <h3>Complete Example</h3>

  <p></p>

<figure>
    <img src="images/complete_example.png" width="800"/>
    <figcaption>Complete Example</figcaption>
  </figure>

  <div class="nanotabs">
<ul>
  <li><a href="#tab_jsonld">JSON-LD</a></li>
  <li><a href="#tab_turtle">Turtle</a></li>
</ul>
<div class="tab_jsonld">
<pre class="example highlight" title="Complete Example (JSON-LD)">
{
    "@id": "http://example.org/annoC",
    "@type": "oa:Annotation",
    "motivation": ["oa:tagging", "oa:commenting"],
    "annotatedBy": {
        "@id": "http://example.org/agent1",
        "@type": "foaf:Person",
        "name": "A. Person",
        "nick": "agent1"
    },
    "serializedBy": {
        "@id": "http://example.org/agent2",
        "@type": "prov:SoftwareAgent",
        "name": "Code v2.1",
        "homepage": "http://example.org/agent2/homepage1"
    },
    "body": [
        {
            "@type": "oa:SemanticTag",
            "related": "http://dbpedia.org/resource/London"
        },
        {
            "@type": "oa:EmbeddedContent",
            "value": "One of my favorite cities",
            "format": "text/plain",
            "language": "en"
        }
    ],
    "target": {
        "@id": "http://example.org/sptarget1",
        "@type": "oa:SpecificResource",
        "source": "http://example.org/source1",
        "selector": {
            "@id": "http://example.org/selector1",
            "@type": "oa:TextPositionSelector",
            "start": 4096,
            "end": 4104
        }
    }
}
</pre>
  </div><div class="tab_turtle"><pre class="example highlight" title="Complete Example (Turtle)">
&lt;http://example.org/annoC&gt; a oa:Annotation ;
    oa:motivatedBy oa:commenting ;
    oa:motivatedBy oa:tagging ;
    oa:hasBody [
        a oa:SemanticTag ;
        skos:related &lt;http://dbpedia.org/resource/London&gt;
    ] ;
    oa:hasBody [
        a oa:EmbeddedContent;
        rdf:value "One of my favorite cities" ;
        dc:language "en" ;
        dc:format "text/plain"
    ] ;
    oa:hasTarget &lt;http://example.org/sptarget1&gt; ;
    oa:annotatedBy &lt;http://example.org/agent1&gt; ;
    oa:annotatedAt "2013-01-28T12:00:00Z" ;
    oa:serializedBy &lt;http://example.org/agent2&gt; ;
    oa:serializedAt "2013-02-04T12:00:00Z" .

&lt;http://example.org/agent1&gt; a foaf:Person ;
    foaf:openid &lt;http://example.org/openid1&gt; ;
    foaf:name "A. Person" .

&lt;http://example.org/agent2&gt; a prov:SoftwareAgent ;
    foaf:homepage &lt;http://example.org/homepage1&gt; ;

    foaf:name "Code v2.1" .

&lt;http://example.org/sptarget1&gt; a oa:SpecificResource ;
    oa:hasSource &lt;http://example.org/source1&gt; ;
    oa:hasSelector &lt;http://example.org/selector1&gt; .

&lt;http://example.org/selector1&gt; a oa:TextPositionSelector ;
    oa:start 4096 ;
    oa:end 4104 .
</pre>
</div>
</div>
</section>

<section>
	<h3>Mapping to Provenance Model</h3>

<p>The Web Annotation data model specifies a very simple method of expressing the provenance of an Annotation.  
This is able to be mapped into the richer and more complex PROV [[prov-o]] model. </p>

<p>The PROV model is expressed in terms of Activities and Entities consumed or produced by those Activities.  
There are two Entities in the Web Annotation model, which for expediency and simplicity are collapsed into just <code>oa:Annotation</code>.  
These are the Annotation document, and the concept that the Annotation embodies or describes.  
This is the distinction between <code>oa:annotatedBy</code> and <code>oa:annotatedAt</code>, 
versus <code>oa:serializedBy</code> and <code>oa:serializedAt</code>.  In the PROV model we have to split these apart again. 
We use the <code>oa:Annotation</code> for the concept, and thus still require an Annotation document.</p>

<p>There are also two Activities, Annotating and Serializing, which produce these Entities.  
In this case, Annotating is the process of annotating a resource, and should not be confused or conflated 
with the Motivation of the same name.  Serializing is the process by which the Annotation Document is created.</p>

<p> The Annotation document is derived from the concept, which necessarily comes first.  
The concept was produced as the outcome of the Annotating process, which was performed by an Agent, 
the object of <code>oa:annotatedBy</code>.  The Annotation document was produced as the outcome of the Serializing process, 
which was also performed by an Agent, the object of <code>oa:serializedBy</code>.  Both of these processes happened at a 
particular point in time, <code>oa:annotatedAt</code> and <code>oa:serializedAt</code>, respectively.
</p>

<figure>
		<img src="images/provmapping.png" width="600"/>
		<figcaption>Provenance Mapping</figcaption>
	</figure>
  <!--
	</div><div class="tab_turtle"><pre class="example highlight" title="">  &lt;anno1&gt; a oa:Annotation ;
	  a prov:Entity ;
    prov:wasGeneratedBy &lt;serializing1&gt; ;
    prov:wasDerivedFrom &lt;annoConcept1&gt; ;
    prov:generatedAt "datetime1" ;
    oa:serializedAt "datetime2" ;
    oa:serializedBy &lt;agent2&gt; ;
    oa:annotatedBy &lt;agent1&gt;
    oa:annotatedAt "datetime1" ;

  &lt;annotating1&gt; a prov:Activity ;
    prov:wasAssociatedWith &lt;agent1&gt; .

  &lt;annoDocument1&gt; a prov:Entity ;
    prov:generatedAt "datetime2" ;
    prov:wasGeneratedBy &lt;serializing1&gt; .
    
  &lt;serializing1&gt; a prov:Activity ;
    prov:wasAssociatedWith &lt;agent2&gt; .</pre>
-->

</section>

<section>
	<h3>Extending Motivations</h3>

<p>Although the list of Motivations in the specification is derived from an extensive survey of the annotation landscape, 
there are many situations where more exact definitions of Motivation are required or desirable.  
In these cases it is RECOMMENDED to create a new Motivation resource and relate it to one or more that already exist.</p>

<p>New Motivations MUST be instances of <code>oa:Motivation</code>, which is a subClass of <code>skos:Concept</code>.  
The <code>skos:broader</code> relationship SHOULD be asserted between the new Motivation and at least one existing Motivation, if there are any that are broader in scope.  Other relationships, such as <code>skos:relatedMatch</code>, <code>skos:exactMatch</code> and <code>skos:closeMatch</code>, SHOULD also be asserted to concepts created by other communities. 
</p>

<h4>Vocabulary</h4>

<figure>
        <img src="images/skosmotivations.png" width="600"/>
        <figcaption>Extending Motivations</figcaption>
    </figure>

<!--
</div><div class="tab_turtle"><pre class="example highlight" title="">  oa:motivationScheme a skos:ConceptScheme ;

  oa:editing a oa:Motivation ;
    skos:inScheme oa:motivationScheme ;
    skos:prefLabel "Editing"@en .

  new:correcting a oa:Motivation ;
    skos:inScheme new:aScheme ;
    skos:broader oa:editing ;
    skos:prefLabel "Correcting a Mistake"@en .

  new2:fixing a oa:Motivation ;
    skos:inScheme new2:anotherScheme ;
    skos:broader oa:editing ;
    skos:closeMatch new:correcting ;
    skos:prefLabel "Fixing a Mistake"@en .</pre>
-->

</section>

<section>
<h3>Acknowledgements</h3>

<p>The Web Annotation Working Group gratefully acknowledges the contributions of the <a href="http://www.w3.org/community/openannotation/">Open Annotation Community Group</a>.  The <a href="http://www.openannotation.org/spec/core">output</a> of the Community Group was fundamental to the current data model.
</p>
<p>
Changes in this specification from the Community Group's model are:
<ul>
<li>Allow a string literal as the body</li>  
<li>Replace the ContentAsText construction which was not taken through the standardization process</li>
<li>Align Semantic Tags, and ensure that the class is not associated with arbitrary URIs</li>
<li>Use intuitive and memorable names for the JSON-LD keys</li>
<li>Improve the Choice and List constructions by not multi-classing rdf:List, and instead reference one.</li>
<li>Defer embedded graphs until post FPWD</li>
<li>Remove equivalence as a much broader problem than just annotation</li>
</ul>
</p>

</section>

<script type="text/javascript">
  nanotabs({e:"click", s:"active"});
</script>

</body>
</html>
